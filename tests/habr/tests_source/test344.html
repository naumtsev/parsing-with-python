<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/450344\/"},"headline":"Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере","datePublished":"2019-05-02T19:08:07+03:00","dateModified":"2019-05-02T19:59:58+03:00","author":{"@type":"Person","name":"Долговязый Джон Сильвер"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались&hellip; Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничив...","url":"https:\/\/habr.com\/ru\/post\/450344\/#post-content-body","about":["h_infosecurity","h_video","h_python","h_image_processing","h_copyright","f_develop","f_design","f_popsci"],"image":["https:\/\/habrastorage.org\/webt\/tn\/c2\/w_\/tnc2w_eanffeyudfj7cl9wzsil4.jpeg","https:\/\/habrastorage.org\/webt\/s2\/fm\/yf\/s2fmyf3leblxu89ohhwgfqr29-k.gif","https:\/\/habrastorage.org\/webt\/vh\/oy\/qh\/vhoyqhxu2-8-igsm3ihf1-yd4c4.gif"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/450344/3f2cc2dd0eac951757d66d6dda7db05a/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/450344/3f2cc2dd0eac951757d66d6dda7db05a/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/450344/3f2cc2dd0eac951757d66d6dda7db05a/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/450344/3f2cc2dd0eac951757d66d6dda7db05a/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/450344/3f2cc2dd0eac951757d66d6dda7db05a/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="450344" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-02T16:08:07.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/450344/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/450344/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/450344/3f2cc2dd0eac951757d66d6dda7db05a/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/j0hns1lver/" title="j0hns1lver" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/fa0/31c/b41/fa031cb41334dcec811ce3ca1a9a8531.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/j0hns1lver/" class="tm-user-info__username">
      j0hns1lver
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-02T16:08:07.000Z" title="2019-05-02, 19:08">2  мая  2019 в 19:08</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/infosecurity/" class="tm-article-snippet__hubs-item-link"><span>Информационная безопасность</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/video/" class="tm-article-snippet__hubs-item-link"><span>Работа с видео</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/python/" class="tm-article-snippet__hubs-item-link"><span>Python</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/image_processing/" class="tm-article-snippet__hubs-item-link"><span>Обработка изображений</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/copyright/" class="tm-article-snippet__hubs-item-link"><span>Копирайт</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/tn/c2/w_/tnc2w_eanffeyudfj7cl9wzsil4.jpeg" alt="captain_barbossa.jpg" data-src="https://habrastorage.org/webt/tn/c2/w_/tnc2w_eanffeyudfj7cl9wzsil4.jpeg" data-blurred="true"/></div><br/>
Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. <a href="https://habr.com/ru/post/449970/">Вот</a> же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве устройств для просмотра, предоставлять исполняемые файлы вместо оплаченных видео и по-другому всячески некультурно себя вести при организации «защиты» видеокурсов от пиратства.<br/>
<br/>
И все бы ничего, да вот только нельзя критиковать, не предлагая взамен своего решения. <i>«Ты можешь лучше, что ли?!»</i>, — раздавались возгласы из комментариев. <i>«Лучше бы поддержал соотечественника, помог сделать их продукт лучше!»</i>, — вкратце пересказываю я некоторые общие мысли. Справедливо. Так вот, <b>я и правда могу лучше</b>. По крайней мере, мое предложение не будет требовать от конечного пользователя запуска кривого софта вместо ожидаемых видеофайлов.<br/>
<a name="habracut"></a><br/>
<h3><font color="#4682b4">Решение всех проблем</font></h3><br/>
А решение самое что ни на есть тривиальное, друзья: водяные знаки. Да, всего лишь водяные знаки. Вместо того, чтобы придумывать сложные механизмы привязки к конкретному устройству, «подпишите» видеоряд. Только и всего.<br/>
<br/>
Какими свойствами должен обладать ватермарк для того, чтобы выполнять оборонительную функцию:<br/>
<br/>
<ol>
<li>Ватермарк должен содержать информацию, однозначно идентифицирующую пользователя, купившего видеокурс. Это может быть ключ активации, выданный пользователю, либо логин пользователя, полученный при регистрации на сайте покупки видеокурса, либо временные штампы, соответствующие времени покупки курса (конечно, если вы сможете однозначно соотнести их с личностью покупателя), либо что угодно из этой оперы.</li>
<li>Ватермарк должен покрывать бо́льшую часть кадра, чтобы его нельзя было вырезать без крупных потерь для видеокурса.</li>
<li>Схема наложения ватермарка должна быть случайной для каждой копии курса, чтобы злодей не написал автоматизатор по выпиливанию того самого ватермарка.</li>
</ol><br/>
Если сделать водяной знак сильно прозрачным, его присутствие никак не помешает пользователю, но все равно об этом стоит упомянуть в описании курса <b>перед оплатой</b>.<br/>
<br/>
Таким образом, для извлечения обличающей информации, потенциальному пирату потребовалось бы пойти по одному из нижеописанных сценариев:<br/>
<br/>
<ol>
<li>Вырезать водяной знак <b>целиком</b> (помним, что согласно 2-у свойству ватермарк должен занимать весь экран и продолжать выполнять свои защитные функции даже при частичном его стирании), тем самым обесценив видеоролик (по-моему, логично, что в случае, когда нет бо́льшей части ролика, нет и ценности ролика).</li>
<li>Редактировать каждый кадр по-отдельности, чтобы избавиться от ватермарка, не нанеся при этом значительного ущерба видеоролику. Трудоемкость выполнения такого действа вручную превышает создание видео «с нуля», а согласно 3-у свойству у нарушителя нет возможности автоматизировать процесс.</li>
<li>(?) Наверно, можно попросить умную нейросеть сделать это за вас. Хотя не уверен, не специалист, можно поправить меня в комментариях.</li>
</ol><br/>
<h3><font color="#4682b4">Proof-of-Concept</font></h3><br/>
За полчаса был составлен тривиальный скрипт в 100 строк, демонстрирующий простоту и доступность реализации такой защиты. <u>Подчеркну</u>: не для того, чтобы показать, какой я умный, а даже совсем наоборот, чтобы отметить, что человек, весьма далекий от обработки изображений, смог за полчаса по кускам составить вполне работающий код (под спойлером), вот как это просто:<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">fckInfoprotectorV2.py</b><div class="spoiler_text"><pre><code class="python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-

# Usage: python3 fckInfoprotectorV2.py

import os
from shutil import rmtree

import numpy as np
import cv2


class VideoSigner:

	def __init__(self, video, watermark):
		os.makedirs('original')
		os.makedirs('watermarked')

		self.vidin = cv2.VideoCapture(video)
		self.fps = self.vidin.get(cv2.CAP_PROP_FPS)
		self.frame_size = (
			int(self.vidin.get(cv2.CAP_PROP_FRAME_WIDTH)),
			int(self.vidin.get(cv2.CAP_PROP_FRAME_HEIGHT))
		)

		self.watermark = cv2.imread(watermark, cv2.IMREAD_UNCHANGED)
		self.wH, self.wW = self.watermark.shape[:2]

		B, G, R, A = cv2.split(self.watermark)
		B = cv2.bitwise_and(B, B, mask=A)
		G = cv2.bitwise_and(G, G, mask=A)
		R = cv2.bitwise_and(R, R, mask=A)
		self.watermark = cv2.merge([B, G, R, A])

	def __del__(self):
		rmtree('original')
		rmtree('watermarked')

	def _split(self):
		print('[*] Splitting video by frames... ', end='', flush=True)

		(success, image), count = self.vidin.read(), 0
		while success:
			path = os.path.join('original', f'{count}.jpg')
			cv2.imwrite(path, image)
			success, image = self.vidin.read()
			count += 1

		print('Done')

	def _watermark(self):
		print('[*] Signing each frame... ', end='', flush=True)

		for image_name in sorted(
			os.listdir('original'),
			key=lambda x: int(x.split('.')[0])
		):
			image_path = os.path.join('original', image_name)
			image = cv2.imread(image_path)
			h, w = image.shape[:2]

			image = np.dstack([
				image,
				np.ones((h, w), dtype='uint8') * 255
			])

			overlay = np.zeros((h, w, 4), dtype='uint8')
			half_h_diff = (h - self.wH) // 2
			half_w_diff = (w - self.wW) // 2
			overlay[half_h_diff:half_h_diff + self.wH, half_w_diff:half_w_diff + self.wW] = self.watermark

			output = image.copy()
			cv2.addWeighted(overlay, 0.25, output, 1.0, 0, output)

			path = os.path.join('watermarked', image_name)
			cv2.imwrite(path, output)

		print('Done')

	def _merge(self):
		print('[*] Merging signed frames... ', end='', flush=True)

		self.vidout = cv2.VideoWriter(
			'signed.avi',
			cv2.VideoWriter_fourcc(*'XVID'),
			fps=self.fps,
			frameSize=self.frame_size
		)

		for image_name in sorted(
			os.listdir('watermarked'),
			key=lambda x: int(x.split('.')[0])
		):
			image_path = os.path.join('watermarked', image_name)
			image = cv2.imread(image_path)
			self.vidout.write(image)

		print('Done')

	def sign(self):
		self._split()
		self._watermark()
		self._merge()


if __name__ == '__main__':
	signer = VideoSigner('SampleVideo_1280x720_1mb.mp4', 'watermark.png')
	signer.sign()
</code></pre><br/>
</div></div><br/>
Результат работы скрипта, на <a href="https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4">этом</a> образце в качестве примера:<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" alt="sample_original.gif" data-src="https://habrastorage.org/webt/s2/fm/yf/s2fmyf3leblxu89ohhwgfqr29-k.gif"/></div><br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" alt="sample_signed.gif" data-src="https://habrastorage.org/webt/vh/oy/qh/vhoyqhxu2-8-igsm3ihf1-yd4c4.gif"/></div><br/>
<br/>
Не хайпа ради, но только ради общего блага.<br/>
<br/>
Честь имею.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D0%BE%D0%B4%D1%8F%D0%BD%D1%8B%D0%B5%20%D0%B7%D0%BD%D0%B0%D0%BA%D0%B8%5D" class="tm-tags-list__link">водяные знаки</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B8%D0%BD%D1%84%D0%BE%D0%BF%D1%80%D0%BE%D1%82%D0%B5%D0%BA%D1%82%D0%BE%D1%80%5D" class="tm-tags-list__link">инфопротектор</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B8%D0%BD%D1%82%D0%B5%D0%BB%D0%BB%D0%B5%D0%BA%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F%20%D1%81%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D1%8C%5D" class="tm-tags-list__link">интеллектуальная собственность</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/infosecurity/" class="tm-hubs-list__link">
    Информационная безопасность
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/video/" class="tm-hubs-list__link">
    Работа с видео
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/python/" class="tm-hubs-list__link">
    Python
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/image_processing/" class="tm-hubs-list__link">
    Обработка изображений
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/copyright/" class="tm-hubs-list__link">
    Копирайт
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 67: ↑28 и ↓39</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 67: ↑28 и ↓39" class="tm-votes-meter__value tm-votes-meter__value_negative tm-votes-meter__value_medium">-11</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">13K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    31
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/j0hns1lver/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/fa0/31c/b41/fa031cb41334dcec811ce3ca1a9a8531.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 68 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    52
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Долговязый Джон Сильвер</span> <a href="/ru/users/j0hns1lver/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @j0hns1lver
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">2741d6c5932784a22a4166dfac4d3cd2</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/450344/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 128 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/450344/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/450344/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"450344":{"id":"450344","timePublished":"2019-05-02T16:08:07+00:00","isCorporative":false,"lang":"ru","titleHtml":"Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере","leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ftn\u002Fc2\u002Fw_\u002Ftnc2w_eanffeyudfj7cl9wzsil4.jpeg\" alt=\"captain_barbossa.jpg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПривет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F449970\u002F\"\u003EВот\u003C\u002Fa\u003E же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве устройств для просмотра, предоставлять исполняемые файлы вместо оплаченных видео и по-другому всячески некультурно себя вести при организации «защиты» видеокурсов от пиратства.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИ все бы ничего, да вот только нельзя критиковать, не предлагая взамен своего решения. \u003Ci\u003E«Ты можешь лучше, что ли?!»\u003C\u002Fi\u003E, — раздавались возгласы из комментариев. \u003Ci\u003E«Лучше бы поддержал соотечественника, помог сделать их продукт лучше!»\u003C\u002Fi\u003E, — вкратце пересказываю я некоторые общие мысли. Справедливо. Так вот, \u003Cb\u003Eя и правда могу лучше\u003C\u002Fb\u003E. По крайней мере, мое предложение не будет требовать от конечного пользователя запуска кривого софта вместо ожидаемых видеофайлов.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":52,"votesCount":68},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2040189","alias":"j0hns1lver","fullname":"Долговязый Джон Сильвер","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffa0\u002F31c\u002Fb41\u002Ffa031cb41334dcec811ce3ca1a9a8531.png","speciality":"2741d6c5932784a22a4166dfac4d3cd2"},"statistics":{"commentsCount":128,"favoritesCount":31,"readingCount":12610,"score":-11,"votesCount":67},"hubs":[{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"262","alias":"video","type":"collective","title":"Работа с видео","titleHtml":"Работа с видео","isProfiled":true},{"relatedData":null,"id":"340","alias":"python","type":"collective","title":"Python","titleHtml":"Python","isProfiled":true},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21896","alias":"copyright","type":"collective","title":"Копирайт","titleHtml":"Копирайт","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Ftn\u002Fc2\u002Fw_\u002Ftnc2w_eanffeyudfj7cl9wzsil4.jpeg\" alt=\"captain_barbossa.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ftn\u002Fc2\u002Fw_\u002Ftnc2w_eanffeyudfj7cl9wzsil4.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nПривет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F449970\u002F\"\u003EВот\u003C\u002Fa\u003E же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве устройств для просмотра, предоставлять исполняемые файлы вместо оплаченных видео и по-другому всячески некультурно себя вести при организации «защиты» видеокурсов от пиратства.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ все бы ничего, да вот только нельзя критиковать, не предлагая взамен своего решения. \u003Ci\u003E«Ты можешь лучше, что ли?!»\u003C\u002Fi\u003E, — раздавались возгласы из комментариев. \u003Ci\u003E«Лучше бы поддержал соотечественника, помог сделать их продукт лучше!»\u003C\u002Fi\u003E, — вкратце пересказываю я некоторые общие мысли. Справедливо. Так вот, \u003Cb\u003Eя и правда могу лучше\u003C\u002Fb\u003E. По крайней мере, мое предложение не будет требовать от конечного пользователя запуска кривого софта вместо ожидаемых видеофайлов.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E\u003Cfont color=\"#4682b4\"\u003EРешение всех проблем\u003C\u002Ffont\u003E\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nА решение самое что ни на есть тривиальное, друзья: водяные знаки. Да, всего лишь водяные знаки. Вместо того, чтобы придумывать сложные механизмы привязки к конкретному устройству, «подпишите» видеоряд. Только и всего.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКакими свойствами должен обладать ватермарк для того, чтобы выполнять оборонительную функцию:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВатермарк должен содержать информацию, однозначно идентифицирующую пользователя, купившего видеокурс. Это может быть ключ активации, выданный пользователю, либо логин пользователя, полученный при регистрации на сайте покупки видеокурса, либо временные штампы, соответствующие времени покупки курса (конечно, если вы сможете однозначно соотнести их с личностью покупателя), либо что угодно из этой оперы.\u003C\u002Fli\u003E\r\n\u003Cli\u003EВатермарк должен покрывать бо́льшую часть кадра, чтобы его нельзя было вырезать без крупных потерь для видеокурса.\u003C\u002Fli\u003E\r\n\u003Cli\u003EСхема наложения ватермарка должна быть случайной для каждой копии курса, чтобы злодей не написал автоматизатор по выпиливанию того самого ватермарка.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nЕсли сделать водяной знак сильно прозрачным, его присутствие никак не помешает пользователю, но все равно об этом стоит упомянуть в описании курса \u003Cb\u003Eперед оплатой\u003C\u002Fb\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТаким образом, для извлечения обличающей информации, потенциальному пирату потребовалось бы пойти по одному из нижеописанных сценариев:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВырезать водяной знак \u003Cb\u003Eцеликом\u003C\u002Fb\u003E (помним, что согласно 2-у свойству ватермарк должен занимать весь экран и продолжать выполнять свои защитные функции даже при частичном его стирании), тем самым обесценив видеоролик (по-моему, логично, что в случае, когда нет бо́льшей части ролика, нет и ценности ролика).\u003C\u002Fli\u003E\r\n\u003Cli\u003EРедактировать каждый кадр по-отдельности, чтобы избавиться от ватермарка, не нанеся при этом значительного ущерба видеоролику. Трудоемкость выполнения такого действа вручную превышает создание видео «с нуля», а согласно 3-у свойству у нарушителя нет возможности автоматизировать процесс.\u003C\u002Fli\u003E\r\n\u003Cli\u003E(?) Наверно, можно попросить умную нейросеть сделать это за вас. Хотя не уверен, не специалист, можно поправить меня в комментариях.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E\u003Cfont color=\"#4682b4\"\u003EProof-of-Concept\u003C\u002Ffont\u003E\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЗа полчаса был составлен тривиальный скрипт в 100 строк, демонстрирующий простоту и доступность реализации такой защиты. \u003Cu\u003EПодчеркну\u003C\u002Fu\u003E: не для того, чтобы показать, какой я умный, а даже совсем наоборот, чтобы отметить, что человек, весьма далекий от обработки изображений, смог за полчаса по кускам составить вполне работающий код (под спойлером), вот как это просто:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EfckInfoprotectorV2.py\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E#!\u002Fusr\u002Fbin\u002Fenv python3\n# -*- coding: utf-8 -*-\n\n# Usage: python3 fckInfoprotectorV2.py\n\nimport os\nfrom shutil import rmtree\n\nimport numpy as np\nimport cv2\n\n\nclass VideoSigner:\n\n\tdef __init__(self, video, watermark):\n\t\tos.makedirs('original')\n\t\tos.makedirs('watermarked')\n\n\t\tself.vidin = cv2.VideoCapture(video)\n\t\tself.fps = self.vidin.get(cv2.CAP_PROP_FPS)\n\t\tself.frame_size = (\n\t\t\tint(self.vidin.get(cv2.CAP_PROP_FRAME_WIDTH)),\n\t\t\tint(self.vidin.get(cv2.CAP_PROP_FRAME_HEIGHT))\n\t\t)\n\n\t\tself.watermark = cv2.imread(watermark, cv2.IMREAD_UNCHANGED)\n\t\tself.wH, self.wW = self.watermark.shape[:2]\n\n\t\tB, G, R, A = cv2.split(self.watermark)\n\t\tB = cv2.bitwise_and(B, B, mask=A)\n\t\tG = cv2.bitwise_and(G, G, mask=A)\n\t\tR = cv2.bitwise_and(R, R, mask=A)\n\t\tself.watermark = cv2.merge([B, G, R, A])\n\n\tdef __del__(self):\n\t\trmtree('original')\n\t\trmtree('watermarked')\n\n\tdef _split(self):\n\t\tprint('[*] Splitting video by frames... ', end='', flush=True)\n\n\t\t(success, image), count = self.vidin.read(), 0\n\t\twhile success:\n\t\t\tpath = os.path.join('original', f'{count}.jpg')\n\t\t\tcv2.imwrite(path, image)\n\t\t\tsuccess, image = self.vidin.read()\n\t\t\tcount += 1\n\n\t\tprint('Done')\n\n\tdef _watermark(self):\n\t\tprint('[*] Signing each frame... ', end='', flush=True)\n\n\t\tfor image_name in sorted(\n\t\t\tos.listdir('original'),\n\t\t\tkey=lambda x: int(x.split('.')[0])\n\t\t):\n\t\t\timage_path = os.path.join('original', image_name)\n\t\t\timage = cv2.imread(image_path)\n\t\t\th, w = image.shape[:2]\n\n\t\t\timage = np.dstack([\n\t\t\t\timage,\n\t\t\t\tnp.ones((h, w), dtype='uint8') * 255\n\t\t\t])\n\n\t\t\toverlay = np.zeros((h, w, 4), dtype='uint8')\n\t\t\thalf_h_diff = (h - self.wH) \u002F\u002F 2\n\t\t\thalf_w_diff = (w - self.wW) \u002F\u002F 2\n\t\t\toverlay[half_h_diff:half_h_diff + self.wH, half_w_diff:half_w_diff + self.wW] = self.watermark\n\n\t\t\toutput = image.copy()\n\t\t\tcv2.addWeighted(overlay, 0.25, output, 1.0, 0, output)\n\n\t\t\tpath = os.path.join('watermarked', image_name)\n\t\t\tcv2.imwrite(path, output)\n\n\t\tprint('Done')\n\n\tdef _merge(self):\n\t\tprint('[*] Merging signed frames... ', end='', flush=True)\n\n\t\tself.vidout = cv2.VideoWriter(\n\t\t\t'signed.avi',\n\t\t\tcv2.VideoWriter_fourcc(*'XVID'),\n\t\t\tfps=self.fps,\n\t\t\tframeSize=self.frame_size\n\t\t)\n\n\t\tfor image_name in sorted(\n\t\t\tos.listdir('watermarked'),\n\t\t\tkey=lambda x: int(x.split('.')[0])\n\t\t):\n\t\t\timage_path = os.path.join('watermarked', image_name)\n\t\t\timage = cv2.imread(image_path)\n\t\t\tself.vidout.write(image)\n\n\t\tprint('Done')\n\n\tdef sign(self):\n\t\tself._split()\n\t\tself._watermark()\n\t\tself._merge()\n\n\nif __name__ == '__main__':\n\tsigner = VideoSigner('SampleVideo_1280x720_1mb.mp4', 'watermark.png')\n\tsigner.sign()\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nРезультат работы скрипта, на \u003Ca href=\"https:\u002F\u002Fsample-videos.com\u002Fvideo123\u002Fmp4\u002F720\u002Fbig_buck_bunny_720p_1mb.mp4\"\u003Eэтом\u003C\u002Fa\u003E образце в качестве примера:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"sample_original.gif\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fs2\u002Ffm\u002Fyf\u002Fs2fmyf3leblxu89ohhwgfqr29-k.gif\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"sample_signed.gif\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fvh\u002Foy\u002Fqh\u002Fvhoyqhxu2-8-igsm3ihf1-yd4c4.gif\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНе хайпа ради, но только ради общего блага.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧесть имею.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"водяные знаки"},{"titleHtml":"инфопротектор"},{"titleHtml":"интеллектуальная собственность"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450344\u002F3f2cc2dd0eac951757d66d6dda7db05a\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450344\u002F3f2cc2dd0eac951757d66d6dda7db05a\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F450344\\\u002F\"},\"headline\":\"Под белым флагом пост, или Как я спас ваш видеокурс от появления на трекере\",\"datePublished\":\"2019-05-02T19:08:07+03:00\",\"dateModified\":\"2019-05-02T19:59:58+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Долговязый Джон Сильвер\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались&hellip; Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничив...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F450344\\\u002F#post-content-body\",\"about\":[\"h_infosecurity\",\"h_video\",\"h_python\",\"h_image_processing\",\"h_copyright\",\"f_develop\",\"f_design\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Ftn\\\u002Fc2\\\u002Fw_\\\u002Ftnc2w_eanffeyudfj7cl9wzsil4.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fs2\\\u002Ffm\\\u002Fyf\\\u002Fs2fmyf3leblxu89ohhwgfqr29-k.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fvh\\\u002Foy\\\u002Fqh\\\u002Fvhoyqhxu2-8-igsm3ihf1-yd4c4.gif\"]}","metaDescription":"Привет, Хабр! Хм, у меня такое чувство, будто мы уже встречались… Ах, да. Вот же тот пост, где мы лампово обсудили, приемлемо ли мониторить окружение, ограничивать пользователя в количестве...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"infosecurity,video,python,image_processing,copyright"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
