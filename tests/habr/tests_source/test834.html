<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Парсинг сайтов — а это вообще легально в России? / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/450834\/"},"headline":"Парсинг сайтов — а это вообще легально в России?","datePublished":"2019-05-07T14:51:35+03:00","dateModified":"2019-05-07T16:09:54+03:00","author":{"@type":"Person","name":"Максим Кульгин"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-п...","url":"https:\/\/habr.com\/ru\/post\/450834\/#post-content-body","about":["h_internetmarketing","h_ecommerce","h_contentmarketing","h_business-laws","f_management","f_marketing"],"image":["https:\/\/habrastorage.org\/webt\/kc\/4a\/dc\/kc4adczptcyqqiwfykzer8ljulw.jpeg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Парсинг сайтов — а это вообще легально в России?" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Парсинг сайтов — а это вообще легально в России?" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Парсинг сайтов — а это вообще легально в России?" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/450834/875758f1664f4121ce44e1bb20650fa2/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/450834/875758f1664f4121ce44e1bb20650fa2/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/450834/875758f1664f4121ce44e1bb20650fa2/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/450834/875758f1664f4121ce44e1bb20650fa2/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/450834/875758f1664f4121ce44e1bb20650fa2/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="450834" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-07T11:51:35.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/450834/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/450834/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/450834/875758f1664f4121ce44e1bb20650fa2/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/450834/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/makasin4ik/" title="makasin4ik" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/6a3/595/d5a/6a3595d5a310ba86011506b2ae5f62e9.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/makasin4ik/" class="tm-user-info__username">
      makasin4ik
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-07T11:51:35.000Z" title="2019-05-07, 14:51">7  мая  2019 в 14:51</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Парсинг сайтов — а это вообще легально в России?</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/internetmarketing/" class="tm-article-snippet__hubs-item-link"><span>Интернет-маркетинг</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/ecommerce/" class="tm-article-snippet__hubs-item-link"><span>Управление e-commerce</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/contentmarketing/" class="tm-article-snippet__hubs-item-link"><span>Контент-маркетинг</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/business-laws/" class="tm-article-snippet__hubs-item-link"><span>Законодательство в IT</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и само определение лишь в общих чертах обозначает огромный объём работы, которую ежеминутно совершают сотни миллионов людей и десятки миллионов роботов (хоть и виртуальных, но от этого ничуть не менее настоящих) по всему миру. А ведь эта задачка обычное для человека дело — что в сравнении цен на билеты онлайн, что в выборе подходящей электроники на сайтах магазинов… Следя за ценами и акциями в удобном мобильном приложении ближайшего к дому гипермаркета, никто из нас и не подумает окрестить себя парсером.<br/>
<a href="https://habr.com/ru/post/450834/"><img src="https://habrastorage.org/r/w780q1/webt/kc/4a/dc/kc4adczptcyqqiwfykzer8ljulw.jpeg" alt="image" data-src="https://habrastorage.org/webt/kc/4a/dc/kc4adczptcyqqiwfykzer8ljulw.jpeg" data-blurred="true"/></a><br/>
<a name="habracut"></a><br/>
Тем не менее, бизнес-парсинг существует, работает и, само собой, является предметом оживлённой дискуссии на многих уровнях рассмотрения: этическом, юридическом, технологическом, финансовом и не только. <br/>
<br/>
Эта статья не высказывает определённого мнения, не даёт советов и не раскрывает тайн — здесь мы лишь рассмотрим некоторые мнения на примере самых интересных комментариев к одной отдельно <a href="https://habr.com/ru/post/446488/">взятой статье</a> про парсинг (50к просмотров и более 400 комментариев!) на Хабре, трактуя их с позиции своего опыта в задачах парсинга веб-проектов. Иными словами — мы потратили много времени и постарались свести и классифицировать воедино самые интересные комментарии читателей… житейская мудрость, так сказать :)<br/>
<br/>
Итак, про парсинг:<br/>
<br/>
<h2>«Дело техники». Фантастические прокси и где они обитают.</h2><br/>
Как естественна сама идея парсинга (всегда интересно поглядеть, что там у «соседей» происходит), так же просты и базовые способы его реализации. Если хочешь узнать — спроси, но, если хочется знать актуальные значения большого массива данных (будь то цены на товары, их описания, доступные для заказа объёмы или горячие скидки), то «спрашивать» придется много и часто. Понятно, что никому и в голову не придет пытаться собирать эти данные вручную (разве что большой бригаде трудолюбивых ребят из южных стран, вдохновленных не самым гуманным способом), поэтому в ход идут простые действенные решения в лоб: «сваять» сайт, настроить браузер, собрать ботов — и «простукиваем» целевой сайт на предмет интересующих показателей, ответы тщательно записываем в «блокнот» удобного формата, собранные данные анализируем, повторяем.<br/>
<br/>
Вот некоторые подходы к «технике парсинга» от наших читателей и от нас:<br/>
<br/>
<ol>
<li>«Ферма Selenium — и вперёд!» (Имеются в виду headless-браузеры с BeautifulSoup-подобным, как у Selenium/Splinter, решением). Как говорит наш читатель, он написал маленький сайт на кластере docker swarm жене для мониторинга сайтов продавцов (она импортер), чтобы те не нарушали политику по ррц/мрц (рекомендуемые розничные цены). По отзывам автора, всё работает стабильно, экономика парсинга сходится — «все затраты это 4 ноды по 3$». Правда, товаров у гордого автора всего около тысячи и сайтов в парсинге десяток, не больше :)</li>
<li>«Запускаем Хромиум и все ОК, получается 1 товар в 4-5 секунд можно брать...». Ясное дело, что ни один админ не обрадуется подскочившей нагрузке на сервер. Сайт, конечно, для того и нужен, чтобы предоставлять информацию всем интересующимся, но «вас много, а я один», поэтому особо рьяно интересующихся, само собой, игнорируют. Что ж, не беда: на помощь приходит Chromium — если браузер стучится на сайт в режиме «нам только спросить» — ему можно и без очереди. Ведь в общем массиве задач парсинга в 90% случаев делается парсинг html-страниц, а в «особо тяжких случаях» (когда сайты активно защищаются, как тот же Яндекс.Маркет, просящий капчу) справляется именно Chromium.</li>
<li>«Чистые прокси своими руками из LTE-роутеров/модемов». Есть вполне рабочие способы настроить чистые прокси, годные для парсинга поисковых систем: ферма 3G/4G-модемов либо покупка прокси «белых» вместо набора случайных «грязных» прокси-серверов. Тут важно, какой язык программирования используется для такого промышленного парсинга — 300 сайтов в день (и правильный ответ — .Net! :). На самом деле, в Интернете полно сайтов с открытыми списками прокси, 50% из которых вполне рабочие и с этих сайтов не так уж сложно парсить списки прокси, чтобы потом с их помощью парсить другие сайты :)… Ну мы так делаем.</li>
<li>Ещё один кейс в пользу Selenium: «Сам занимаюсь парсингом (но не в рунете, а ловлю заказы на любимом всеми upwork.com, там это обычно зовётся scraping, более подходящий термин, имхо). У меня немного другое соотношение, где-то 75 к 25. Но в целом да, если лень или сложно — то уж от selenium пока никто не уворачивался :) Но из нескольких сотен сайтов, с которыми приходилось работать, ни разу не доходило до распознавания картинок, чтоб получить целевые данных. Обычно, если данных нет в html, от они всегда подтягиваются в каком-нибудь json (ну, собственно, ниже уже показали пример).</li>
<li>«Укротители Python-ов». И ещё кейс читателя: «На прошлой работе использовал Python/Scrapy/Splash для 180+ сайтов в день разного размера от prisma.fi и verkkokauppa.com до какой-то мелочи с 3-5 продуктами. В конце прошлого года арендовали у Hetzner вот такой сервер (https://www.hetzner.com/dedicated-rootserver/ax60-ssd) с Ubuntu Server на борту. Большая часть вычислительных ресурсов пока что простаивает. </li>
<li>«WebDriver — наше всё». Занимаясь в целом автоматизацией (куда уже и парсинг попадает), настолько достоверной, на сколько это возможно (задачи QA). Хорошая рабочая станция, десяток-другой браузеров параллельно — на выходе очень злая-быстрая молотилка.</li>
</ol><br/>
<blockquote>«Джентльменский набор» парсящего — 4 виртуалки, безлимитный трафик, 4 процессора на каждой, 8 гб памяти, Windows Server… Пока хватает, на каждую новую партию из условно 50 сайтов — нужна своя виртуалка. Но сильно зависит от самих сайтов. Ещё в Visual Studio есть System.Net, который фактически использует установленный в Windows Internet Explorer. Тоже работает.</blockquote><br/>
<h2>«Как защититься (от парсинга) по уму? Да никак, всё равно пролезем»</h2><br/>
Идеи для бизнеса на парсинге, говоря про наш бизнес, нам подкидывают постоянно.<br/>
<br/>
<ol>
<li>Выдачу Яндекса парсить, как это делают множество SEO-сервисов. «На это спроса побольше, больше денег. Правда, они, в основном, продают целую систему аналитики SEO.» Но мы не парсим выдачу — не просили, да и там через запросов 100 сразу будет капча, нужны чистые прокси, а их сложно достать или дорогие, не так и выгодно… Само собой, больших игроков провести далеко не так просто, и читатели с нами этим делятся (мы сами НЕ парсим ГУГЛ и Яндекс). По опыту, у Яндекса, Гугла и подобных крупных корпораций существует некоторая база с подсетями датацентров (базы прокси у них ведь, обновляются, и крупные игроки на них подписаны и банят). Таким образом, поднятая сеть прокси на ip-адресах, выданных датацентрам, на отлично улетает в бан с выдачей капчи и другими причудами. По итогу остаются только незаконные варианты с закупом прокси у владельцев ботнетов и подобная «грязь», в этом случае у тебя будет реальный пользовательский ip. И даже при этом таким корпорациям очень нужно, чтобы у тебя были «отстоявшиеся» куки, с которыми ты уже «поползал» какое-то время по сайтам, где они могут тебя трекать (к примеру, счётчики посещений). Но как они вообще отличают парсеров от NAT-ов в спальных районах? Условные 100 запросов это ведь всего ничего. </li>
<li>Защита от парсинга: убрав из рассмотрения «великих и ужасных», сосредоточимся на нас, «простых смертных». Если есть те, кто занимается парсингом, обязательно должны быть и те, кто будет стараться им в этом помешать. Играть интереснее с живыми людьми: появляется элемент соперничества, каждая сторона старается перехитрить другую. И, так как собирать информацию вручную никто по-прежнему не намерен, играют они в то, кто сделает бота наиболее похожего на живого человека, и кто сможет эффективнее этих ботов распознавать, продолжая при этом отвечать на запросы реальных пользователей — сайт же призван бизнесу помогать, отталкиваемся мы от этого. И, оставаясь в рамках задачи о бизнес-эффективности, нельзя не учитывать разумное распределение ресурсов и рентабельность мероприятий по, собственно, парсингу и противодействии ему:<br/>
<br/>
<ul>
<li>Защититься от парсинга нельзя (кроме как от «студентов»), но можно повысить порог затрат на него (и временных и денежных). В итоге, те данные, которые мы защищаем (несколько разделов сайта), проще не парсить, а пойти и купить готовую БД, также как покупаем ее мы. В сети валяются таблицы ip адресов парсеров, показывать этому списку капчу при входе — не проблема. Аналогично и генерить id и классы, как делает тот же mail.ru — тоже не проблема и не требует каких-то больших затрат. Новая капча от гугла вообще очень точно определяет, робот или нет. Если есть подозрения, выпилить пользователя и попросить ввести капчу — просто. В конце концов, приманку-HoneyPot для отлова бота никто не отменял. Ну и классика, заменять буквы в тексте, делать маски и тд.</li>
<li>И тут мы возразим сами себе: возможно, по отдельности это всё не поможет, но все вместе осложнит вам жизнь настолько, что станет нецелесообразным. При этом все эти техники вообще не требуют больших затрат. Правда, все эти техники прекрасно обходятся, так что по сути — защиты нет. Динамические прокси, сервисы распознающие капчи индусами, и selenium с хорошо прописанным алгоритмом действий. Всё, чего можно добиться — разработка парсера будет стоить подороже, возможно кого-то это и отпугнет, но если целевой сайт — это не каталог на полторы страницы местного офиса «Рога и Копыта», то повышение затрат мало кого отпугивает.</li>
<li>При защите всегда речь про использование типовых поведенческих моделей реальных посетителей, плюс систем, адекватно идентифицирующей «белых» ботов (яндекс, гугл и тп). А чтобы подстроиться под реального посетителя, нужно знать набор типовых карт переходов. И тогда простым пулом прокси при парсинге тут не обойдешься. Система не на 100% защищает, но поставленную задачу решает — по статистике просмотра можно понять, когда весь сайт отсканили. Так делают либо парсеры, либо поисковые системы. Но поисковые системы реагируют на robots.txt, а парсеры нет.</li>
</ul></li>
</ol><br/>
<blockquote>«Ой вей. Если бы все люди всё делали по уму… Я, думаю, безработных было бы в 10 раз больше. На ваш век хватит.» </blockquote><br/>
<h2>«Экологично ли я живу? Да, но зря»</h2><br/>
<ol>
<li>В морально-этической плоскости рассмотрения вопроса лежит немаловажный момент, относящийся и к технической, и к правовой стороне парсинга. Лаконичен в своей простоте и символичен в названии файл robots.txt, который наши читатели и мы трактуем по-разному:<br/>
<br/>
<ul>
<li>Ваша деятельность как «водителя» бота «этична» ровно настолько, насколько Ваш бот соблюдает robots.txt посещаемого сайта. Не исходя из допущений вида «страницы товара не закрывают», а буквально накладывая маски allow и disallow на запрашиваемые URL. Отсутствует robots.txt — трактуйте в Вашу пользу; присутствует, но вы его нарушаете — однозначно, Вы злонамеренно используете сайт. Конечно robots.txt не имеет силы закона, но если действительно «припечет», не факт что точно пройдет мимо юристов.»</li>
<li>Несмотря на то, что с роботами договориться невозможно, иной раз это легче, чем с людьми, ведь в магазинах вешают таблички «фото запрещено», и это незаконно. И неэтично. «Просто традиция такая. robots.txt — это технический приём. Он не про этику. Если вы хотите обозначить, что не желаете парсинга — делаете раздел, вроде такого: account.habr.com/info/agreement. Не знаю будет ли такое ограничение законным, но, как минимум, свои пожелания можете там изложить человеческим языком (или упомянуть robots.txt), потом можно про этику.» Наши юристы парируют: «Никоим образом такое ограничение не будет законным.» </li>
<li>Думаем синхронно про парсинг и про дальнейшее использование информации. «Robots.txt — это не столько про парсинг, сколько про дальнейшую публикацию (например, в поисковой выдаче). Если вы хотите, чтобы данные не были кем-либо получены, то вам следует ограничивать круг лиц, которые смогут их увидеть. Если у вас не занавешены шторы на окнах, то не стоит ходить голым. Может быть специально смотреть в окна и некрасиво, но без занавесок какие претензии?»</li>
<li>Этичность парсинга — нейтральна. Неэтичным может быть способ использования полученной информацией. В целом, чисто с точки зрения этики, каждый человек имеет право получить публичную информацию, которая не носит частный или специальный характер и не охраняется законом. Цены точно являются публичной информацией. Описания — тоже. Описания могут быть объектом авторского права и тогда их нельзя размещать без разрешения. Но никакая этика не нарушается, даже если я буду парсить сайты и делать свой публичный сайт, на котором будет отражаться динамика цен и сравнение конкурентов. Это даже этично, так как предоставляет общественно-полезную информацию.»</li>
</ul></li>
<li>«Руками собирать можно, а парсить роботом нельзя.» Любое «зло» при должном старании и умении может быть оправдано, а парсинг и подавно — тем более, что есть живые примеры того, как им пользовались во всех смыслах правильно, цитируем нашего читателя: «Я занимался давным-давно парсингом, но всегда просили делать вполне легально и морально правильный парсинг. Несколько раз посредники просили сделать парсинг оптовика (для продажи его же товаров), сам оптовик был не против, но вкладываться в разработку API совершенно не собирался (или не мог по тех.причинам); один раз посредник одного китайского магазина просил сделать интеграцию, но там api китайского магазина был настолько долбанутый и ограниченный, что частично приходилось получать инфу парсингом; один раз автор и владелец сайта и форума хотел мигрировать с бесплатного сайта, который «зажимал» базу данных; также делал интеграцию сайта литературного конкурса и его же форума, чтобы при добавлении нового рассказа автоматически появлялась тема на форуме (по тех.причинам это невозможно было сделать иначе).»</li>
</ol><br/>
<h2>«Юриста вызывали? Цитировать нельзя парсить» </h2><br/>
Вне зависимости от того, чью сторону вы выбираете в вопросе определения источника силы: деньги или правда — ясно одно, что, там где начинают водиться деньги, найти правду становится всё сложнее. Вынося дискуссию о возможности приобретения за «ден.знаки» всего и вся, включая сам закон и его представителей, за рамки этой статьи, рассмотрим некоторые правовые аспекты, поднятые в комментариях:<br/>
<br/>
<ol>
<li>«От подглядывания до воровства — один шаг». Даже если разрешено всё, что не запрещено, то, считают наши читатели, «подглядывать в замочную скважину как минимум некрасиво, а если клиент потом ещё и выдаёт спарсенное за свое — то это уже прямое воровство. Конечно, понятно, что в бизнесе все так делают. Но в приличном обществе всё же принято об этом молчать.» Однако, парсить для кого-то и выдавать спарсенное за своё, как говорится, две большие разницы: «Вы путаете мягкое и холодное. Мы действительно оказываем услугу по парсингу. Но ровно так же можно обвинять производителей, например, оружия в том, что с его помощью убивают. Мы делаем бизнес, а в бизнесе есть одно правило — законно это или нет. Моя точка зрения… Если к нам приходят клиенты и готовы платить много, чтобы получить данные — это разве плохо…»</li>
<li>«Сделал приложение для сайта СМИ — прибили за жалобу». Сайт Forbes, парсинг, приложение на Google Play — что могло пойти не так? «В свое время решил сделать приложение для сайта Forbes. Чтобы получать статьи с сайта — сделал парсинг страниц. Настроил всё в автоматическом режиме и сделал приложение для Андроид. Выложил приложение в маркет. Через год со мной связался юрист и потребовал удалить приложение, потому что я нарушаю авторские права. Спорить не стал. Обидно, что у самого Forbes нет приложения по их же статьям с сайта. Есть только сайт. А сайт у них тормозной, долго грузится и увешан рекламой...»</li>
<li>«Моя база данных — мое произведение под защитой!». Авторское право — ещё одно понятие, которому можно посвятить с десяток страниц обсуждений (помимо сотен тысяч уже существующих), однако не упомянуть его никак тоже неправильно. Наш читатель выдал концепцию: «Некто создал базу товаров. Потратил кучу ресурсов на поиск информации, систематизацию этой информации, вынесение данных в базу. Вы по просьбе конкурента эту базу спарсиваете и за деньги отдаете тому самому конкуренту. Вы считаете, что здесь нет этических проблем? Касательно законности — не знаю, как в РФ, но в Украине БД может быть объектом авторского права.»<br/>
<br/>
Однако, ответственность за пользование услугой или товаром всё ещё лежит на том, кто её/его приобретает и с какой целью использует: «… и в России тоже. Мы оказываем услугу по сбору данных. И за эту услугу просим деньги. Мы не продаем сами данные. Я, к слову, всех клиентов предупреждаю, что они могут нарушить закон если будут использовать, например, описания.»</li>
<li>«Формально вы правы, но статью на вас нашел!» В УК РФ (статья 146) описываются только масштабы нарушений, которые позволяют классифицировать нарушение авторских прав как «уголовку». Сами по себе права описаны в ГК — а на масштабы, позволяющие классифицировать деяние как «уголовку», регулярный парсинг, такой, что возникает вопрос «а не ляжет ли сайт», без проблем вытягиваются. Но важны аспекты: <br/>
<br/>
<ul>
<li>Там «крупный размер» — это не в количестве спарсенных страниц, а в деньгах. Как вы вообще оцените парсинг (и его регулярность), как нарушение авторских прав (!), в деньгах? А как обычно в таких случаях делают и откуда может штраф в сотни тысяч долларов за одну копию фильма взяться? Высчитывается «упущенная прибыль» с соответствующим коэффициентом. Можно с каких-нибудь договоров просчитать — сколько будет стоит купить у вас ту же информацию легально и отсюда «плясать». Но, для начала, вы должны её изначально продавать (а не выкладывать в публичный доступ), выдумывать цифру задним числом не «прокатит». Хотя и тут риски есть: знаете, сколько стоит коммерческая лицензия на условный Консультант-Плюс? Как только Вы полезете дальше десятка основных законов, вы быстро наткнетесь на предложение купить ту самую коммерческую версию.</li>
<li>Наша история точно не из уголовного дела (и Вы не путайте штраф и ущерб. Вот вы по хулиганке разбили бутылку пива: ущерб — 30 рублей, штраф — до 1000р, а по гражданскому иску потом хоть триллион отсуживайте за «упущенную выгоду», но это уже не штраф). Вы же прайс не продаете вообще, что эксперт то сочинять будет? Конкретно, а не «хороший юрист натянет без проблем».</li>
</ul></li>
</ol><br/>
<b>Резюмируя:</b> <i>«— Каким образом парсинг стал равен нарушению авторских прав? — Никоим. Нарушение — это заказать у нас парсинг, а потом вывалить контент на свой сайт. «Положить» сайт — это другая статья.» </i><br/>
<br/>
Максим Кульгин, <a href="https://xmldatafeed.com">xmldatafeed.com</a></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%5D" class="tm-tags-list__link">парсинг</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%20%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82%D0%B0%5D" class="tm-tags-list__link">парсинг контента</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%B0%D1%80%D1%81%D0%B8%D0%BD%D0%B3%20%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%5D" class="tm-tags-list__link">парсинг сайтов</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/internetmarketing/" class="tm-hubs-list__link">
    Интернет-маркетинг
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/ecommerce/" class="tm-hubs-list__link">
    Управление e-commerce
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/contentmarketing/" class="tm-hubs-list__link">
    Контент-маркетинг
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/business-laws/" class="tm-hubs-list__link">
    Законодательство в IT
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 30: ↑23 и ↓7</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 30: ↑23 и ↓7" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+16</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">17K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    99
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/makasin4ik/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/6a3/595/d5a/6a3595d5a310ba86011506b2ae5f62e9.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 85 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    23
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Максим Кульгин</span> <a href="/ru/users/makasin4ik/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @makasin4ik
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Занимаемся промышленным парсингом сайтов</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <div class="tm-article-author__user-contacts"><a href="https://xmldatafeed.com" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="http://www.youtube.com/c/maximkulgin" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="skype:maxim.kulgin" rel="noopener" target="_blank" class="tm-article-author__contact">
      Skype
    </a><a href="https://telegram.me/maximkulgin" rel="noopener" target="_blank" class="tm-article-author__contact">
      Telegram
    </a></div></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/450834/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 21 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/450834/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/450834/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"450834":{"id":"450834","timePublished":"2019-05-07T11:51:35+00:00","isCorporative":false,"lang":"ru","titleHtml":"Парсинг сайтов — а это вообще легально в России?","leadData":{"textHtml":"По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и само определение лишь в общих чертах обозначает огромный объём работы, которую ежеминутно совершают сотни миллионов людей и десятки миллионов роботов (хоть и виртуальных, но от этого ничуть не менее настоящих) по всему миру. А ведь эта задачка обычное для человека дело — что в сравнении цен на билеты онлайн, что в выборе подходящей электроники на сайтах магазинов… Следя за ценами и акциями в удобном мобильном приложении ближайшего к дому гипермаркета, никто из нас и не подумает окрестить себя парсером.\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F450834\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fkc\u002F4a\u002Fdc\u002Fkc4adczptcyqqiwfykzer8ljulw.jpeg\" alt=\"image\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":23,"votesCount":85},"rating":0,"relatedData":null,"contacts":[{"title":"Сайт","url":"https:\u002F\u002Fxmldatafeed.com","value":"https:\u002F\u002Fxmldatafeed.com"},{"title":"Сайт","url":"http:\u002F\u002Fwww.youtube.com\u002Fc\u002Fmaximkulgin","value":"http:\u002F\u002Fwww.youtube.com\u002Fc\u002Fmaximkulgin"},{"title":"Skype","url":"skype:maxim.kulgin","value":"maxim.kulgin"},{"title":"Telegram","url":"https:\u002F\u002Ftelegram.me\u002Fmaximkulgin","value":"maximkulgin"}],"authorContacts":[{"title":"Сайт","url":"https:\u002F\u002Fxmldatafeed.com","value":"https:\u002F\u002Fxmldatafeed.com"},{"title":"Сайт","url":"http:\u002F\u002Fwww.youtube.com\u002Fc\u002Fmaximkulgin","value":"http:\u002F\u002Fwww.youtube.com\u002Fc\u002Fmaximkulgin"},{"title":"Skype","url":"skype:maxim.kulgin","value":"maxim.kulgin"},{"title":"Telegram","url":"https:\u002F\u002Ftelegram.me\u002Fmaximkulgin","value":"maximkulgin"}],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"767757","alias":"makasin4ik","fullname":"Максим Кульгин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F6a3\u002F595\u002Fd5a\u002F6a3595d5a310ba86011506b2ae5f62e9.jpg","speciality":"Занимаемся промышленным парсингом сайтов"},"statistics":{"commentsCount":21,"favoritesCount":99,"readingCount":17039,"score":16,"votesCount":30},"hubs":[{"relatedData":null,"id":"20710","alias":"internetmarketing","type":"collective","title":"Интернет-маркетинг","titleHtml":"Интернет-маркетинг","isProfiled":false},{"relatedData":null,"id":"20716","alias":"ecommerce","type":"collective","title":"Управление e-commerce","titleHtml":"Управление e-commerce","isProfiled":true},{"relatedData":null,"id":"20720","alias":"contentmarketing","type":"collective","title":"Контент-маркетинг","titleHtml":"Контент-маркетинг","isProfiled":false},{"relatedData":null,"id":"20738","alias":"business-laws","type":"collective","title":"Законодательство в IT","titleHtml":"Законодательство в IT","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПо одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и само определение лишь в общих чертах обозначает огромный объём работы, которую ежеминутно совершают сотни миллионов людей и десятки миллионов роботов (хоть и виртуальных, но от этого ничуть не менее настоящих) по всему миру. А ведь эта задачка обычное для человека дело — что в сравнении цен на билеты онлайн, что в выборе подходящей электроники на сайтах магазинов… Следя за ценами и акциями в удобном мобильном приложении ближайшего к дому гипермаркета, никто из нас и не подумает окрестить себя парсером.\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F450834\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fkc\u002F4a\u002Fdc\u002Fkc4adczptcyqqiwfykzer8ljulw.jpeg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fkc\u002F4a\u002Fdc\u002Fkc4adczptcyqqiwfykzer8ljulw.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nТем не менее, бизнес-парсинг существует, работает и, само собой, является предметом оживлённой дискуссии на многих уровнях рассмотрения: этическом, юридическом, технологическом, финансовом и не только. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭта статья не высказывает определённого мнения, не даёт советов и не раскрывает тайн — здесь мы лишь рассмотрим некоторые мнения на примере самых интересных комментариев к одной отдельно \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F446488\u002F\"\u003Eвзятой статье\u003C\u002Fa\u003E про парсинг (50к просмотров и более 400 комментариев!) на Хабре, трактуя их с позиции своего опыта в задачах парсинга веб-проектов. Иными словами — мы потратили много времени и постарались свести и классифицировать воедино самые интересные комментарии читателей… житейская мудрость, так сказать :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, про парсинг:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003E«Дело техники». Фантастические прокси и где они обитают.\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nКак естественна сама идея парсинга (всегда интересно поглядеть, что там у «соседей» происходит), так же просты и базовые способы его реализации. Если хочешь узнать — спроси, но, если хочется знать актуальные значения большого массива данных (будь то цены на товары, их описания, доступные для заказа объёмы или горячие скидки), то «спрашивать» придется много и часто. Понятно, что никому и в голову не придет пытаться собирать эти данные вручную (разве что большой бригаде трудолюбивых ребят из южных стран, вдохновленных не самым гуманным способом), поэтому в ход идут простые действенные решения в лоб: «сваять» сайт, настроить браузер, собрать ботов — и «простукиваем» целевой сайт на предмет интересующих показателей, ответы тщательно записываем в «блокнот» удобного формата, собранные данные анализируем, повторяем.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот некоторые подходы к «технике парсинга» от наших читателей и от нас:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E«Ферма Selenium — и вперёд!» (Имеются в виду headless-браузеры с BeautifulSoup-подобным, как у Selenium\u002FSplinter, решением). Как говорит наш читатель, он написал маленький сайт на кластере docker swarm жене для мониторинга сайтов продавцов (она импортер), чтобы те не нарушали политику по ррц\u002Fмрц (рекомендуемые розничные цены). По отзывам автора, всё работает стабильно, экономика парсинга сходится — «все затраты это 4 ноды по 3$». Правда, товаров у гордого автора всего около тысячи и сайтов в парсинге десяток, не больше :)\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Запускаем Хромиум и все ОК, получается 1 товар в 4-5 секунд можно брать...». Ясное дело, что ни один админ не обрадуется подскочившей нагрузке на сервер. Сайт, конечно, для того и нужен, чтобы предоставлять информацию всем интересующимся, но «вас много, а я один», поэтому особо рьяно интересующихся, само собой, игнорируют. Что ж, не беда: на помощь приходит Chromium — если браузер стучится на сайт в режиме «нам только спросить» — ему можно и без очереди. Ведь в общем массиве задач парсинга в 90% случаев делается парсинг html-страниц, а в «особо тяжких случаях» (когда сайты активно защищаются, как тот же Яндекс.Маркет, просящий капчу) справляется именно Chromium.\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Чистые прокси своими руками из LTE-роутеров\u002Fмодемов». Есть вполне рабочие способы настроить чистые прокси, годные для парсинга поисковых систем: ферма 3G\u002F4G-модемов либо покупка прокси «белых» вместо набора случайных «грязных» прокси-серверов. Тут важно, какой язык программирования используется для такого промышленного парсинга — 300 сайтов в день (и правильный ответ — .Net! :). На самом деле, в Интернете полно сайтов с открытыми списками прокси, 50% из которых вполне рабочие и с этих сайтов не так уж сложно парсить списки прокси, чтобы потом с их помощью парсить другие сайты :)… Ну мы так делаем.\u003C\u002Fli\u003E\r\n\u003Cli\u003EЕщё один кейс в пользу Selenium: «Сам занимаюсь парсингом (но не в рунете, а ловлю заказы на любимом всеми upwork.com, там это обычно зовётся scraping, более подходящий термин, имхо). У меня немного другое соотношение, где-то 75 к 25. Но в целом да, если лень или сложно — то уж от selenium пока никто не уворачивался :) Но из нескольких сотен сайтов, с которыми приходилось работать, ни разу не доходило до распознавания картинок, чтоб получить целевые данных. Обычно, если данных нет в html, от они всегда подтягиваются в каком-нибудь json (ну, собственно, ниже уже показали пример).\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Укротители Python-ов». И ещё кейс читателя: «На прошлой работе использовал Python\u002FScrapy\u002FSplash для 180+ сайтов в день разного размера от prisma.fi и verkkokauppa.com до какой-то мелочи с 3-5 продуктами. В конце прошлого года арендовали у Hetzner вот такой сервер (https:\u002F\u002Fwww.hetzner.com\u002Fdedicated-rootserver\u002Fax60-ssd) с Ubuntu Server на борту. Большая часть вычислительных ресурсов пока что простаивает. \u003C\u002Fli\u003E\r\n\u003Cli\u003E«WebDriver — наше всё». Занимаясь в целом автоматизацией (куда уже и парсинг попадает), настолько достоверной, на сколько это возможно (задачи QA). Хорошая рабочая станция, десяток-другой браузеров параллельно — на выходе очень злая-быстрая молотилка.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E«Джентльменский набор» парсящего — 4 виртуалки, безлимитный трафик, 4 процессора на каждой, 8 гб памяти, Windows Server… Пока хватает, на каждую новую партию из условно 50 сайтов — нужна своя виртуалка. Но сильно зависит от самих сайтов. Ещё в Visual Studio есть System.Net, который фактически использует установленный в Windows Internet Explorer. Тоже работает.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003E«Как защититься (от парсинга) по уму? Да никак, всё равно пролезем»\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nИдеи для бизнеса на парсинге, говоря про наш бизнес, нам подкидывают постоянно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВыдачу Яндекса парсить, как это делают множество SEO-сервисов. «На это спроса побольше, больше денег. Правда, они, в основном, продают целую систему аналитики SEO.» Но мы не парсим выдачу — не просили, да и там через запросов 100 сразу будет капча, нужны чистые прокси, а их сложно достать или дорогие, не так и выгодно… Само собой, больших игроков провести далеко не так просто, и читатели с нами этим делятся (мы сами НЕ парсим ГУГЛ и Яндекс). По опыту, у Яндекса, Гугла и подобных крупных корпораций существует некоторая база с подсетями датацентров (базы прокси у них ведь, обновляются, и крупные игроки на них подписаны и банят). Таким образом, поднятая сеть прокси на ip-адресах, выданных датацентрам, на отлично улетает в бан с выдачей капчи и другими причудами. По итогу остаются только незаконные варианты с закупом прокси у владельцев ботнетов и подобная «грязь», в этом случае у тебя будет реальный пользовательский ip. И даже при этом таким корпорациям очень нужно, чтобы у тебя были «отстоявшиеся» куки, с которыми ты уже «поползал» какое-то время по сайтам, где они могут тебя трекать (к примеру, счётчики посещений). Но как они вообще отличают парсеров от NAT-ов в спальных районах? Условные 100 запросов это ведь всего ничего. \u003C\u002Fli\u003E\r\n\u003Cli\u003EЗащита от парсинга: убрав из рассмотрения «великих и ужасных», сосредоточимся на нас, «простых смертных». Если есть те, кто занимается парсингом, обязательно должны быть и те, кто будет стараться им в этом помешать. Играть интереснее с живыми людьми: появляется элемент соперничества, каждая сторона старается перехитрить другую. И, так как собирать информацию вручную никто по-прежнему не намерен, играют они в то, кто сделает бота наиболее похожего на живого человека, и кто сможет эффективнее этих ботов распознавать, продолжая при этом отвечать на запросы реальных пользователей — сайт же призван бизнесу помогать, отталкиваемся мы от этого. И, оставаясь в рамках задачи о бизнес-эффективности, нельзя не учитывать разумное распределение ресурсов и рентабельность мероприятий по, собственно, парсингу и противодействии ему:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EЗащититься от парсинга нельзя (кроме как от «студентов»), но можно повысить порог затрат на него (и временных и денежных). В итоге, те данные, которые мы защищаем (несколько разделов сайта), проще не парсить, а пойти и купить готовую БД, также как покупаем ее мы. В сети валяются таблицы ip адресов парсеров, показывать этому списку капчу при входе — не проблема. Аналогично и генерить id и классы, как делает тот же mail.ru — тоже не проблема и не требует каких-то больших затрат. Новая капча от гугла вообще очень точно определяет, робот или нет. Если есть подозрения, выпилить пользователя и попросить ввести капчу — просто. В конце концов, приманку-HoneyPot для отлова бота никто не отменял. Ну и классика, заменять буквы в тексте, делать маски и тд.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИ тут мы возразим сами себе: возможно, по отдельности это всё не поможет, но все вместе осложнит вам жизнь настолько, что станет нецелесообразным. При этом все эти техники вообще не требуют больших затрат. Правда, все эти техники прекрасно обходятся, так что по сути — защиты нет. Динамические прокси, сервисы распознающие капчи индусами, и selenium с хорошо прописанным алгоритмом действий. Всё, чего можно добиться — разработка парсера будет стоить подороже, возможно кого-то это и отпугнет, но если целевой сайт — это не каталог на полторы страницы местного офиса «Рога и Копыта», то повышение затрат мало кого отпугивает.\u003C\u002Fli\u003E\r\n\u003Cli\u003EПри защите всегда речь про использование типовых поведенческих моделей реальных посетителей, плюс систем, адекватно идентифицирующей «белых» ботов (яндекс, гугл и тп). А чтобы подстроиться под реального посетителя, нужно знать набор типовых карт переходов. И тогда простым пулом прокси при парсинге тут не обойдешься. Система не на 100% защищает, но поставленную задачу решает — по статистике просмотра можно понять, когда весь сайт отсканили. Так делают либо парсеры, либо поисковые системы. Но поисковые системы реагируют на robots.txt, а парсеры нет.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E«Ой вей. Если бы все люди всё делали по уму… Я, думаю, безработных было бы в 10 раз больше. На ваш век хватит.» \u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003E«Экологично ли я живу? Да, но зря»\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВ морально-этической плоскости рассмотрения вопроса лежит немаловажный момент, относящийся и к технической, и к правовой стороне парсинга. Лаконичен в своей простоте и символичен в названии файл robots.txt, который наши читатели и мы трактуем по-разному:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВаша деятельность как «водителя» бота «этична» ровно настолько, насколько Ваш бот соблюдает robots.txt посещаемого сайта. Не исходя из допущений вида «страницы товара не закрывают», а буквально накладывая маски allow и disallow на запрашиваемые URL. Отсутствует robots.txt — трактуйте в Вашу пользу; присутствует, но вы его нарушаете — однозначно, Вы злонамеренно используете сайт. Конечно robots.txt не имеет силы закона, но если действительно «припечет», не факт что точно пройдет мимо юристов.»\u003C\u002Fli\u003E\r\n\u003Cli\u003EНесмотря на то, что с роботами договориться невозможно, иной раз это легче, чем с людьми, ведь в магазинах вешают таблички «фото запрещено», и это незаконно. И неэтично. «Просто традиция такая. robots.txt — это технический приём. Он не про этику. Если вы хотите обозначить, что не желаете парсинга — делаете раздел, вроде такого: account.habr.com\u002Finfo\u002Fagreement. Не знаю будет ли такое ограничение законным, но, как минимум, свои пожелания можете там изложить человеческим языком (или упомянуть robots.txt), потом можно про этику.» Наши юристы парируют: «Никоим образом такое ограничение не будет законным.» \u003C\u002Fli\u003E\r\n\u003Cli\u003EДумаем синхронно про парсинг и про дальнейшее использование информации. «Robots.txt — это не столько про парсинг, сколько про дальнейшую публикацию (например, в поисковой выдаче). Если вы хотите, чтобы данные не были кем-либо получены, то вам следует ограничивать круг лиц, которые смогут их увидеть. Если у вас не занавешены шторы на окнах, то не стоит ходить голым. Может быть специально смотреть в окна и некрасиво, но без занавесок какие претензии?»\u003C\u002Fli\u003E\r\n\u003Cli\u003EЭтичность парсинга — нейтральна. Неэтичным может быть способ использования полученной информацией. В целом, чисто с точки зрения этики, каждый человек имеет право получить публичную информацию, которая не носит частный или специальный характер и не охраняется законом. Цены точно являются публичной информацией. Описания — тоже. Описания могут быть объектом авторского права и тогда их нельзя размещать без разрешения. Но никакая этика не нарушается, даже если я буду парсить сайты и делать свой публичный сайт, на котором будет отражаться динамика цен и сравнение конкурентов. Это даже этично, так как предоставляет общественно-полезную информацию.»\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Руками собирать можно, а парсить роботом нельзя.» Любое «зло» при должном старании и умении может быть оправдано, а парсинг и подавно — тем более, что есть живые примеры того, как им пользовались во всех смыслах правильно, цитируем нашего читателя: «Я занимался давным-давно парсингом, но всегда просили делать вполне легально и морально правильный парсинг. Несколько раз посредники просили сделать парсинг оптовика (для продажи его же товаров), сам оптовик был не против, но вкладываться в разработку API совершенно не собирался (или не мог по тех.причинам); один раз посредник одного китайского магазина просил сделать интеграцию, но там api китайского магазина был настолько долбанутый и ограниченный, что частично приходилось получать инфу парсингом; один раз автор и владелец сайта и форума хотел мигрировать с бесплатного сайта, который «зажимал» базу данных; также делал интеграцию сайта литературного конкурса и его же форума, чтобы при добавлении нового рассказа автоматически появлялась тема на форуме (по тех.причинам это невозможно было сделать иначе).»\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003E«Юриста вызывали? Цитировать нельзя парсить» \u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВне зависимости от того, чью сторону вы выбираете в вопросе определения источника силы: деньги или правда — ясно одно, что, там где начинают водиться деньги, найти правду становится всё сложнее. Вынося дискуссию о возможности приобретения за «ден.знаки» всего и вся, включая сам закон и его представителей, за рамки этой статьи, рассмотрим некоторые правовые аспекты, поднятые в комментариях:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E«От подглядывания до воровства — один шаг». Даже если разрешено всё, что не запрещено, то, считают наши читатели, «подглядывать в замочную скважину как минимум некрасиво, а если клиент потом ещё и выдаёт спарсенное за свое — то это уже прямое воровство. Конечно, понятно, что в бизнесе все так делают. Но в приличном обществе всё же принято об этом молчать.» Однако, парсить для кого-то и выдавать спарсенное за своё, как говорится, две большие разницы: «Вы путаете мягкое и холодное. Мы действительно оказываем услугу по парсингу. Но ровно так же можно обвинять производителей, например, оружия в том, что с его помощью убивают. Мы делаем бизнес, а в бизнесе есть одно правило — законно это или нет. Моя точка зрения… Если к нам приходят клиенты и готовы платить много, чтобы получить данные — это разве плохо…»\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Сделал приложение для сайта СМИ — прибили за жалобу». Сайт Forbes, парсинг, приложение на Google Play — что могло пойти не так? «В свое время решил сделать приложение для сайта Forbes. Чтобы получать статьи с сайта — сделал парсинг страниц. Настроил всё в автоматическом режиме и сделал приложение для Андроид. Выложил приложение в маркет. Через год со мной связался юрист и потребовал удалить приложение, потому что я нарушаю авторские права. Спорить не стал. Обидно, что у самого Forbes нет приложения по их же статьям с сайта. Есть только сайт. А сайт у них тормозной, долго грузится и увешан рекламой...»\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Моя база данных — мое произведение под защитой!». Авторское право — ещё одно понятие, которому можно посвятить с десяток страниц обсуждений (помимо сотен тысяч уже существующих), однако не упомянуть его никак тоже неправильно. Наш читатель выдал концепцию: «Некто создал базу товаров. Потратил кучу ресурсов на поиск информации, систематизацию этой информации, вынесение данных в базу. Вы по просьбе конкурента эту базу спарсиваете и за деньги отдаете тому самому конкуренту. Вы считаете, что здесь нет этических проблем? Касательно законности — не знаю, как в РФ, но в Украине БД может быть объектом авторского права.»\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако, ответственность за пользование услугой или товаром всё ещё лежит на том, кто её\u002Fего приобретает и с какой целью использует: «… и в России тоже. Мы оказываем услугу по сбору данных. И за эту услугу просим деньги. Мы не продаем сами данные. Я, к слову, всех клиентов предупреждаю, что они могут нарушить закон если будут использовать, например, описания.»\u003C\u002Fli\u003E\r\n\u003Cli\u003E«Формально вы правы, но статью на вас нашел!» В УК РФ (статья 146) описываются только масштабы нарушений, которые позволяют классифицировать нарушение авторских прав как «уголовку». Сами по себе права описаны в ГК — а на масштабы, позволяющие классифицировать деяние как «уголовку», регулярный парсинг, такой, что возникает вопрос «а не ляжет ли сайт», без проблем вытягиваются. Но важны аспекты: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EТам «крупный размер» — это не в количестве спарсенных страниц, а в деньгах. Как вы вообще оцените парсинг (и его регулярность), как нарушение авторских прав (!), в деньгах? А как обычно в таких случаях делают и откуда может штраф в сотни тысяч долларов за одну копию фильма взяться? Высчитывается «упущенная прибыль» с соответствующим коэффициентом. Можно с каких-нибудь договоров просчитать — сколько будет стоит купить у вас ту же информацию легально и отсюда «плясать». Но, для начала, вы должны её изначально продавать (а не выкладывать в публичный доступ), выдумывать цифру задним числом не «прокатит». Хотя и тут риски есть: знаете, сколько стоит коммерческая лицензия на условный Консультант-Плюс? Как только Вы полезете дальше десятка основных законов, вы быстро наткнетесь на предложение купить ту самую коммерческую версию.\u003C\u002Fli\u003E\r\n\u003Cli\u003EНаша история точно не из уголовного дела (и Вы не путайте штраф и ущерб. Вот вы по хулиганке разбили бутылку пива: ущерб — 30 рублей, штраф — до 1000р, а по гражданскому иску потом хоть триллион отсуживайте за «упущенную выгоду», но это уже не штраф). Вы же прайс не продаете вообще, что эксперт то сочинять будет? Конкретно, а не «хороший юрист натянет без проблем».\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003EРезюмируя:\u003C\u002Fb\u003E \u003Ci\u003E«— Каким образом парсинг стал равен нарушению авторских прав? — Никоим. Нарушение — это заказать у нас парсинг, а потом вывалить контент на свой сайт. «Положить» сайт — это другая статья.» \u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМаксим Кульгин, \u003Ca href=\"https:\u002F\u002Fxmldatafeed.com\"\u003Exmldatafeed.com\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"парсинг"},{"titleHtml":"парсинг контента"},{"titleHtml":"парсинг сайтов"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450834\u002F875758f1664f4121ce44e1bb20650fa2\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450834\u002F875758f1664f4121ce44e1bb20650fa2\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F450834\\\u002F\"},\"headline\":\"Парсинг сайтов — а это вообще легально в России?\",\"datePublished\":\"2019-05-07T14:51:35+03:00\",\"dateModified\":\"2019-05-07T16:09:54+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Максим Кульгин\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-п...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F450834\\\u002F#post-content-body\",\"about\":[\"h_internetmarketing\",\"h_ecommerce\",\"h_contentmarketing\",\"h_business-laws\",\"f_management\",\"f_marketing\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fkc\\\u002F4a\\\u002Fdc\\\u002Fkc4adczptcyqqiwfykzer8ljulw.jpeg\"]}","metaDescription":"По одному из определений парсинг есть синтаксический анализ информации. Человеку, не вовлечённому в конкретные задачи сбора и обработки информации для Интернет-проектов, это не говорит ни о чём. Да и...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"internetmarketing,ecommerce,contentmarketing,business-laws"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
