<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Исчезающие фреймворки / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/oleg-bunin\/blog\/450822\/"},"headline":"Исчезающие фреймворки","datePublished":"2019-05-20T15:19:54+03:00","dateModified":"2019-06-19T15:46:55+03:00","author":{"@type":"Person","name":"Глеб Михеев"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Почему мы&nbsp;используем фреймворки? Angular, React и&nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&nbsp;разрабатывать слож...","url":"https:\/\/habr.com\/ru\/company\/oleg-bunin\/blog\/450822\/#post-content-body","about":["c_oleg-bunin","h_webdev","h_javascript","h_angular","h_sveltejs","f_develop"],"image":["https:\/\/habrastorage.org\/webt\/l4\/wd\/k7\/l4wdk7s_mctdg-p6ctwusbwiq7m.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/b9e\/324\/d9c\/b9e324d9cd7205923e0805c009b820e5.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/8b5\/032\/ec3\/8b5032ec37fd48a2f95998759f41c5f9.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/12e\/082\/a7e\/12e082a7e3f5e596d6251c22b4016046.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/5f8\/18a\/d83\/5f818ad83b71a697f3af30a4b747bdaf.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/822\/0c9\/463\/8220c9463072b5a7aedd40185dfa8a70.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/5aa\/be9\/d8e\/5aabe9d8e0bd77fef1a1ed0e1844ac91.png","https:\/\/habrastorage.org\/webt\/3r\/xz\/4_\/3rxz4_c2qbhoczgeo8yzr_kbg8s.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/080\/9a3\/6c8\/0809a36c8b7f7d9d4eb9e18fe3d3bfa2.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/46c\/154\/f5d\/46c154f5d392f46698fb5a03e4234adc.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Исчезающие фреймворки" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Исчезающие фреймворки" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Исчезающие фреймворки" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Почему мы&amp;nbsp;используем фреймворки? Angular, React и&amp;nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&amp;nbsp;разрабатывать сложные интерфейсы...." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Почему мы&amp;nbsp;используем фреймворки? Angular, React и&amp;nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&amp;nbsp;разрабатывать сложные интерфейсы...." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Почему мы&amp;nbsp;используем фреймворки? Angular, React и&amp;nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&amp;nbsp;разрабатывать сложные интерфейсы...." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Почему мы&amp;nbsp;используем фреймворки? Angular, React и&amp;nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&amp;nbsp;разрабатывать сложные интерфейсы...." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Почему мы&amp;nbsp;используем фреймворки? Angular, React и&amp;nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&amp;nbsp;разрабатывать сложные интерфейсы...." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/450822/f9457c0270b77ed1eb488a4aec8dbb15/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/450822/f9457c0270b77ed1eb488a4aec8dbb15/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/450822/f9457c0270b77ed1eb488a4aec8dbb15/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/450822/f9457c0270b77ed1eb488a4aec8dbb15/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/450822/f9457c0270b77ed1eb488a4aec8dbb15/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="450822" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-20T12:19:54.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/450822/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/company/oleg-bunin/blog/450822/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/450822/f9457c0270b77ed1eb488a4aec8dbb15/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="oleg-bunin" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><div class="tm-company-card__branding tm-company-article__branding tm-company-card__branding_loading"><div class="tm-company-card__branding-placeholder"><!----></div> <a href="https://www.highload.ru/moscow/2021/?utm_source=habr&amp;utm_medium=cpc&amp;utm_campaign=title&amp;utm_content=banner"><img src="//habrastorage.org/getpro/habr/branding/673/a67/310/673a67310118a40a792e1eb97151fd97.png" width="100%" class="tm-company-card__branding-image"></a></div></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><div class="tm-company-card tm-company-article__company-card"><div class="tm-company-card__info"><div class="tm-company-card__header"><a href="/ru/company/oleg-bunin/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" height="48" src="//habrastorage.org/getpro/habr/company/7c3/ad4/7b2/7c3ad47b2aae71b56795f618534e7a51.jpg" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-rating tm-company-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">374.29</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div> <div class="tm-company-card__info"><a href="/ru/company/oleg-bunin/profile/" class="tm-company-card__name">
        Конференции Олега Бунина (Онтико)
      </a> <div class="tm-company-card__description">Профессиональные конференции для IT-разработчиков</div></div></div> <div class="tm-company-card__buttons"><!----> <!----></div></div> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/glebmachine/" title="glebmachine" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/118/ea7/631/118ea7631403936094eafd562562e94d.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/glebmachine/" class="tm-user-info__username">
      glebmachine
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-20T12:19:54.000Z" title="2019-05-20, 15:19">20  мая  2019 в 15:19</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Исчезающие фреймворки</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/company/oleg-bunin/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании Конференции Олега Бунина (Онтико)</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/webdev/" class="tm-article-snippet__hubs-item-link"><span>Разработка веб-сайтов</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/javascript/" class="tm-article-snippet__hubs-item-link"><span>JavaScript</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/angular/" class="tm-article-snippet__hubs-item-link"><span>Angular</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/sveltejs/" class="tm-article-snippet__hubs-item-link"><span>SvelteJS</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Почему мы используем фреймворки? Angular, React и Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и разрабатывать сложные интерфейсы. За последнее десятилетие фреймворки стали стандартом. Дорогим стандартом. С тех пор как фреймворки вошли в обиход, JS сильно раздуло. Страниц весом несколько мегабайт становится больше, и существенная часть этого объема — фреймворк сам по себе. Кажется, это немного, но для пользователя критично — на телефоне или слабом интернете страница может даже не загрузиться. Это проблема.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/l4/wd/k7/l4wdk7s_mctdg-p6ctwusbwiq7m.png"/><br/>
<br/>
Кроме лишнего веса у классических фреймворков много других минусов и они подходят не для всех проектов. Эти проблемы решены в «исчезающих фреймворках». Что это за новый тренд, почему это не «еще один JS-фреймворк», а хорошая идея и как таинственные фреймворки могут улучшить наши приложения, расскажет Павел Малышев.<br/>
<a name="habracut"></a><br/>
<b>О спикере: Павел Малышев</b> (<a href="https://habr.com/ru/users/paulmaly/" class="user_link">PaulMaly</a>) — fullstack со стажем больше 10 лет. Работает в компании Mustlab, которая занимается аутсорсингом веб, Smart TV и мобильных устройств, а также IoT. Евангелист фреймворка Svelte JS в России, ведет <a href="https://t.me/sveltejs">Telegram-группу</a> на эту тему. <br/>
<br/>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;"><div class="tm-iframe_temp" data-src="https://www.youtube.com/embed/NvNe4nKmZT0?rel=0&amp;showinfo=1&amp;hl=en-US" data-style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" id="" width=""></div></div></div></div><br/>
<br/>
<h2>Чего не должно быть в докладе</h2><br/>
Когда я обдумывал этот рассказ, решил, что он должен быть нестандартным. Поэтому я выписал то, чего здесь быть не должно. Не будет акцента на конкретный фреймворк, сравнения с другими фреймворками – они всем надоели, и, конечно, мне не хочется быть Капитаном Очевидность. Всего этого не должно было быть в моем рассказе, но, к сожалению, будет…<br/>
<br/>
Когда вы прочитали название, наверное, подумали, что появился еще один фреймворк, а их и так целый зоопарк. <br/>
<br/>
<img src="https://lh5.googleusercontent.com/FyaohwlsHNaYP95oxHdMCRX5KPc9Nps1fAI6WMO4zo0ZGtLPhke-O88xJ-g5-JoFKYkK_I55lSeV1mV2mDZMi6e1sWtxYjNoJJLPFa9YGu7UV9IZdJCvFHLnPksk0pJy2acVo2JA"/><br/>
<br/>
Мне кажется, если появляется новый фреймворк, значит, старые не удовлетворяют какие-то наши потребности. Возможно, сами потребности меняются со временем, и именно поэтому нам нужны новые решения — более эффективные и интересные. Поэтому прошу вас подойти к изложенному с этой точки зрения непредвзято и посмотреть на исчезающие фреймворки, как на новый инструмент, который, возможно, поможет в вашей работе.<br/>
<br/>
Для начала разберемся, кто есть кто.<br/>
<br/>
<h2>Кто есть кто</h2><br/>
Я взял большую тройку и Svelte. Интересно то, что каждый инструмент характеризует себя по-разному. <b>Angular</b> позиционирует себя, как фреймворк на все случаи жизни, «все в коробке». <b>React</b> мимикрирует под библиотеку: «Я такой маленький, как библиотека», но вместе со всей инфраструктурой это тоже полноценный фреймворк. <b>Vue</b> — якобы прогрессивный фреймворк. Вы можете переходить на него с jQuery последовательно перенося код, начиная чуть ли не с обычного тэга <code>script</code> без сборщиков. <b>Svelte</b> — магически исчезающий фреймворк. WAT?<br/>
<br/>
Давайте разбираться, о чем это я вообще.<br/>
<br/>
<h2>Почему фреймворки стали исчезать?</h2><br/>
<blockquote>Мы отправляем слишком много кода нашим пользователям.</blockquote><br/>
Наши клиенты становятся более мобильными, но технологии интернета не везде хороши — даже 3G есть не везде, не говоря про LTE. Нам надо сокращать размер кода.<br/>
<br/>
На эту тему есть <a href="https://infrequently.org/2017/10/can-you-afford-it-real-world-web-performance-budgets/">интересное исследование</a> от 2017 года, которое показывает, что если в ваше приложении много JS, то вы можете поставить лишь <b>130 Kb, чтобы пользователь был доволен</b>. Если JS мало, то до 170Kb. Такая разница обусловлена тем, что в исследовании учитывалось, что JS отличается от других видов ресурсов, его надо распарсить, интерпретировать и прочее.<br/>
<br/>
<img src="https://lh6.googleusercontent.com/ZSSHLHXf5sF3R4qaz5DVeK_arFd4SkZ1XtBRlXo3cJprYtvQEHShgovvAp3h4pkwCixu47FiHEf_Aphon2wVi3o0AWrg3YGjTmhYmhy_YoWDKHtdlqs5nb7f6-2FnbiBB7ogqA8o"/><br/>
<br/>
В исследовании 130 Kb — это не только JS, а вообще все, включая CSS, HTML, конечно, без картинок. При этом один Angular весит 143 Kb, а мы еще даже не написали ни одной строчки кода. Посмотрим, что нам предлагают текущие решения.<br/>
<br/>
<h3>Производительность</h3><br/>
В принципе, любой классический фреймворк — это абстракция над платформой, которая позволяет нам писать на более удобных уровнях. Это плохо тем, что любая абстракция несет некоторые издержки, в том числе, и по производительности.<br/>
<br/>
<blockquote>Мы несем дополнительные издержки из-за лишних абстракций между нашим кодом и браузером.</blockquote><br/>
Фишка исчезающих фреймворков в том, что они <b>убирают лишние абстракции и вычисления из рантайма браузера</b>, производя анализ и расчеты в момент компиляции. Исчезают они именно поэтому. Об этом поговорим подробнее чуть ниже.<br/>
<br/>
<h3>Совместимость</h3><br/>
<blockquote>Решения, которые написаны для классического фреймворка, нельзя применить где угодно.</blockquote><br/>
Они работают только в рамках этого фреймворка. Например, вы делаете 2-3 проекта на своем любимом React, написали для него кучу классных решений, а потом решили переехать на Angular. Эти решения вам больше не нужны, их можно выкинуть. Хотя основная идея — соответствие компонентов, классические фреймворки лишают нас возможности переиспользования кода.<br/>
<br/>
Фишка исчезающих фреймворков в том, что у них <b>нет никаких абстракций</b>, и в этом случае нет никакого фреймворка в рантайме. Ваш код — это абсолютно ванильный JS, который можно унести куда угодно — в любой проект даже на другом фреймворке. Например, можно взять код на исчезающем фреймворке и перенести его на React.<br/>
<br/>
<h3>Code splitting &amp; tree shaking</h3><br/>
<blockquote>Старые технологии мешают применять новые технологии.</blockquote><br/>
Большинство фреймворков создавались когда эти технологии не так были развиты. Мы имеем достаточно монолитное ядро, и любой компонент, даже минимальный кусочек вашего кода завязан на весь фреймворк. Соответственно, эффективно делать code splitting и даже tree shaking не получается.<br/>
<br/>
Сейчас все фреймворки развиваются в сторону большей модульности, чтобы «трястись» лучше. В исчезающих фреймворках это решено из коробки, потому что они сделаны так, что <b>в бандл добавляется только тот код, который вам нужен изначально</b>, и он решает исключительно вашу задачу. Это очень конкретный кейс — как будто вы ровно для своей задачи написали код руками и засунули его в бандл, только это за вас делает фреймворк.<br/>
<br/>
<h3>Feature cost</h3><br/>
<blockquote>Любой фреймворк имеет цену новой фичи.</blockquote><br/>
Сообщество требует разных новых фич и каждый участник — что-то свое, а любая фича имеет свою цену. В исчезающих фреймворках эта проблема решена на уровне концепции, потому что любая фича, которую вы не используете, никогда не попадет к вам в бандл. <br/>
Итак, главный вопрос: могут ли исчезающие фреймворки, и конкретно Svelte, решить все эти проблемы? Давайте разбираться.<br/>
<br/>
<h2>Бе<s><font color="red">з</font></s>с рантайма</h2><br/>
Рантайм — достаточно эфемерная тема. Не совсем понятно, что это такое, и разные люди понимают это по-разному. В данном контексте я буду говорить о рантайме с точки зрения двух аспектов: <b>окружения, в котором выполняется код</b> и непосредственно <b>исполнения кода</b>.<br/>
<br/>
<h3>Runtime как окружение</h3><br/>
Разберемся на примере. Если код написан на Vanilla, то единственный рантайм, который нужен — это DOM. Если код написан на React, то нужен другой рантайм: DOM, React и React DOM.<br/>
<br/>
<blockquote>Любой, самый маленький компонент вашего кода в React будет зависеть от того, в каком окружении работает ваш фреймворк, то есть от рантайма.</blockquote><br/>
<br/>
<h3>Runtime как исполнение кода</h3><br/>
Второй момент — рантайм с точки зрения исполнения кода во время работы. Рассмотрим базовый на сегодня кейс рантайма для фронтенда — виртуальный DOM — большой кусок рантайма, например, в React-приложениях, — на простом примере:<br/>
<br/>
<pre><code class="xml">&lt;h1>Hello {world}&lt;/h1></code></pre><br/>
В этом куске HTML есть динамическая переменная. С точки зрения виртуального DOM код работает так.<br/>
<br/>
<ul>
<li>Происходит изменение этой переменной.<br/>
</li>
<li>Строится дерево виртуального DOM в памяти.<br/>
</li>
<li>Сравнивается с предыдущей версией.<br/>
</li>
<li>Выполняются непосредственно DOM-манипуляции, которые в итоге довольно эффективные, потому что мы получили некий diff и знаем точно, что где поменять в реальном DOM.<br/>
</li>
</ul><br/>
<img src="https://lh5.googleusercontent.com/dHOLPJA3m9k8i2i82qkDSc3DcZFNCTqFJAdPsHGirjFx1DkrJRkeytgzveOn8kZtsYno05n88AQ5nV05N4Pnxg72QTE5n_8s7pdITnrY445v3I7uLfi2ZP280qAwG2tZV-7y8GF5"/><br/>
<br/>
<blockquote>Виртуальный DOM — это абсолютный overhead, потому что всегда будет быстрее так: как только произошли изменения, сразу сделали изменения в DOM.</blockquote><br/>
<img src="https://lh5.googleusercontent.com/ITz-003NvnhOrfc86A_sHfiJuPRZHpZ4WMTHplDFhrgYY2q3Fe4M_PBU6i4dEk5zMF8Eg64xD-QqHw199xm2h21YQY_rWRdqMQk2d2rNg_6VqbOvYNNa8IPt0vmlF0owXz0TfizI"/><br/>
<br/>
Вопрос: как понять, что изменилось и что нужно изменить? Виртуальный DOM решает вопрос того, что изменилось, а не скорости этих изменений. Скорость достигается за счет того, что мы максимально хорошо знаем, что изменилось, и можем эффективно манипулировать с DOM.<br/>
<br/>
<h2>Скомпилируй это</h2><br/>
Чтобы решить этот вопрос, исчезающие фреймворки просто определяют изменения на этапе компиляции: вы написали код, во время компиляции исчезающий фреймворк строит все зависимости, вычисляет, какие манипуляции в DOM нужны. Фактически все, что делает виртуальный DOM в рантайме, исчезающий фреймворк делает в билд-тайме: генерирует прямые манипуляции с DOM, которые просто вызываются во время рантайма. В результате получается схема: когда мы делаем изменения, сразу же идет манипуляция в DOM.<br/>
<br/>
<blockquote>You can’t write serious applications in vanilla JavaScript without hitting a complexity wall. But a compiler can do it for you.<br/>
<b>Rich Harris, создатель Svelte</b></blockquote><br/>
Расскажу, как я познакомился со Svelte. У нас был <a href="https://habr.com/ru/post/345028/">интересный проект </a>— виджет для вставки на неограниченное количество сайтов, при этом мы не знаем, какие это сайты, на каких устройствах пользователь будет их открывать. Виджет должен быть очень маленьким по размеру и очень быстрым по скорости. Естественно, когда мы взялись за эту задачу, сразу поняли, что делать на React или даже на Vue не вариант, потому что получается достаточно много лишних накладных расходов.<br/>
<br/>
Мы практически склонились написать на Vanilla, но это сложно и не всегда удобно поддерживать. Но нам повезло — мы наткнулись на Svelte. Основная идея этого фреймворка приведена в цитате: вы не можете написать серьезное приложение на Vanilla, потому что очень быстро упретесь в стену сложности — команде будет сложно работать, нет общих подходов, а компилятор может сделать это за вас.<br/>
<br/>
<h3>Как это работает</h3><br/>
<img src="https://lh6.googleusercontent.com/T1Ek5BSMsbRi7ujSSHsxRnHnCcQSN9NynUqbHQBs1Q_r0ezDTTNneQyDsI7ppuH4QPhvjAPN8RKeGLUAZIvoQpFzuyYapBEBXmbhtLsi870kvf8kWzuMQsgNfLmZSviSAOHYV1cD"/><br/>
<br/>
<b>Исходный код — это framework-based code</b> — код, который зависит от фреймворка. Все как обычно: есть некая документация, вы пишите код, как будто бы вы используете любой другой фреймворк, в котором есть какие-то API, принципы и подходы. Все как обычно.<br/>
<br/>
Во время сборки этот код компилируется. В итоге в бандле лежит ванильный JS, причем, как я уже говорил, туда попадает ровно тот код, который необходим для исполнения конкретно вашего приложения. Если вы через две минуты допишите туда еще какую-то новую функцию или используете новую фичу из фреймворка, Svelte ее туда добавит, и она также попадет в бандл. В противном случае этого не произойдет.<br/>
<br/>
Рассмотрим этапы поподробнее. Первый шаг — <b>component</b>. Рассмотрим тот же компонент.<br/>
<br/>
<pre><code class="xml">&lt;h1>Hello {world}&lt;/h1></code></pre><br/>
На втором шаге — <b>AST</b> — код продуцируется в абстрактное синтаксическое дерево.<br/>
<br/>
<pre><code class="xml">{"type": "Element", "name":
"h1", "children": [{
"type": "Text", "data": 
"Hello",....}]}
</code></pre><br/>
Третий шаг — <b>DOM API</b>. На основе дерева производится непосредственно генерация кода, который необходим для работы этого компонента. Код очень простой, никаких сложных рантаймов и абстракций здесь нет в принципе.<br/>
<br/>
<pre><code class="javascript">function update(changed, ctx) { 
  if (changed.name) {
    text_1.data = ctx.name;
  }
}
</code></pre><br/>
В конце статьи укажите в опросе, нравится ли вам идея AOT-компиляции фреймворка Svelte? В <a href="https://habr.com/ru/post/345028/">прошлый раз</a> большинство высказалось положительно.<br/>
<br/>
<img src="https://lh4.googleusercontent.com/3I2gtgDXujrIgs3-EUlTIQ7LGqj9YatWyy_f2EjvdNtE0CXtewiViScyBOQZDwQ7IT0CCm7s2DKV0T4FAIbIgFSJ6EbB4MrzOGxTPXcoZrdiCuw16wePda9jlIM5un4H7wG9f3rS"/><br/>
<br/>
Теперь давайте посмотрим, что такое Svelte.<br/>
<br/>
<h2>Svelte</h2><br/>
Английское слово svelte или svelt, означает «стройный, гибкий». Svelte JS такой и есть!<br/>
<br/>
Я утверждаю, что это не «Yet another JS framework», потому что это <b>build-time UI framework</b>. Обычные фреймворки работают в рантайме, а Svelte существует только до того, как мы его скомпилировали.<br/>
<br/>
Это <b>compile-time static analyzer</b>, или статический анализатор кода, который во время компиляции проходит по коду, статически его анализирует и на основе этого генерирует соответствующий итоговый бандл.<br/>
<br/>
Это <b>ahead-of-time compiler</b> — AOT-компилятор, который это все делает. <br/>
<br/>
Создатель фреймворка Rich Harris, которого вы можете знать по таким инструментам, как Rollup, Ractive, Buble — аналога Babel — крутой чувак. На мой взгляд, тот же самый Rollup до сих пор остается лучшей реализацией tree-shaking. В нем он появился гораздо раньше, чем в Webpack, и до сих пор работает лучше. Harris изначально делал фреймворк Svelte с учетом tree-shaking, code splitting и других современных подходов.<br/>
<br/>
<blockquote>Svelte — это средство, писать vanilla JS без необходимости писать на vanilla JS.</blockquote><br/>
Давайте посмотрим на этот фреймворк изнутри.<br/>
<br/>
<h3>Однофайловый компонент</h3><br/>
<b>Svelte — однофайловый компонент</b>. Если вы работали с Vue, он вам будет очень напоминать этот фреймворк, но это неспроста. Синтаксис, который преимущественно используется в Vue, позаимствован из фреймворка Ractive, который тоже сделал Harris еще в 2012 году. Этот фреймворк, к сожалению, не стал популярным, мне кажется, потому что вышел в 1.0 слишком поздно. Они так замутили с версиями, что Ractive 6 лет был в минорных версиях.<br/>
<br/>
Многие интерфейсы Vue оттуда позаимствовал, а Svelte — продолжатель Ractive. Поэтому вам будет казаться, что все похоже, но однофайловые компоненты появились в Ractive в 2013 году. Они выглядят чуть-чуть по-другому, но в целом — похоже. Любой компонент, который вы будете писать на Svelte, будет выглядеть примерно так.<br/>
<br/>
<pre><code class="plaintext">&lt;h1 >Hello {world}!&lt;/h1 >
&lt;script> 
  export default {
    /* component behaviour */
  };
&lt;/script>
&lt;style>
     /* scoped styles */
 &lt;/style></code></pre><br/>
Сверху некий HTML-шаблон — обычный HTML без каких-то исключений. Единственное, что на него сверху наворочен некий язык шаблонов, который называется <a href="https://github.com/htmlx-org/HTMLx">HTMLx</a>. Про него я расскажу подробней позже.<br/>
<br/>
Дальше идет скрипт, в котором мы пишем поведение нашего компонента. Как его писать, описано в гайде. Там можно импортировать, делать разные функции и методы — все как во Vue.<br/>
<br/>
Можно использовать scoped style, чтобы получить из коробки изолированные стили компонентов. Это работает так: в main-компиляции генерируется хэш, в итоге получается как бы эмуляция Shadow DOM.<br/>
<br/>
Ни одна из секций не обязательна, поэтому компонент может состоять только из одного HTML.<br/>
<br/>
<h3>Синтаксис HTMLx</h3><br/>
Как и в любом HTML, в скобках записываются данные.<br/>
<br/>
<pre><code class="xml">&lt;button>Say hello {name}&lt;/button></code></pre><br/>
Так записываются условные операторы.<br/>
<br/>
<pre><code class="xml">{#if name}
  &lt;button>Say hello {name}&lt;/button> 
{/if}</code></pre><br/>
Перечисления и циклы:<br/>
<pre><code class="xml">{#each users as { name, email}}
  {#if name}
    &lt;button>Say hello {name}&lt;/button>
  {/if}
{/each}</code></pre><br/>
Можно использовать директивы для отлавливания событий, для двойного биндинга данных.<br/>
<br/>
<pre><code class="xml">{#each users as { name, email}}
  {#if name}
    &lt;button on:click="say(name)">Say hello {name}&lt;button>
  {/if}
{/each}</code></pre><br/>
В HTMLx очень мало директив — всего 4-5 видов, а кастомных директив, как в Angular, вообще нет.<br/>
<br/>
Можно любые динамические данные засовывать в любые атрибуты, с этим проблем нет.<br/>
<br/>
<pre><code class="xml">&lt;div id= "{dynamic}"class="used">
{#each users as { name, email}}
  {#if name}
    &lt;button on:click="say(name) " >Say hello {name}&lt;button>
  {/if}
{/each}
&lt;/div></code></pre><br/>
<h3>Изолированные стили и удаление неиспользованных</h3><br/>
Если вы используете изолированные стили, то кроме того, что они изолируются, неиспользуемые стили еще вырезаются автоматически.<br/>
<br/>
<pre><code class="xml">&lt;div id= "{dynamic}"class="used">
{#each users as { name, email}}
  {#if name}
    &lt;button on:click="say(name) " >Say hello {name}&lt;button>
  {/if}
{/each}
&lt;/div>
&lt;/style>
  .used {...}
  .unused {...}
&lt;/style></code></pre><br/>
Если стиль <code>used</code>, то он используется, а если стиль <code>unused</code> — его не будет в бандле. Фреймворк все порежет, но аккуратно. Поэтому эту фичу можно легко сломать, если использовать много динамики. Svelte подумает: «Я лучше не буду трогать» — и оставит. Надо быть аккуратным, но это очень удобно. Так как в Svelte есть статический анализатор, он показывает в консоли при запуске, какие стили не используются. Если они вам действительно не нужны, их можно сразу же убрать.<br/>
<br/>
<h3>Композиция компонентов</h3><br/>
Здесь все как обычно: импортируем файл, регистрируем его в компонентах, используем как тэг.<br/>
<br/>
<pre><code class="xml">&lt;Nested foo= "static" bar={dynamic} bind:baz=baz /> 
&lt;script>
  import Nested from ‘Nested.html’;’
  export default { 
    components: {Nested}
  };
&lt;/script></code></pre><br/>
Можно через атрибуты передавать любые данные, использовать двойное связывание. Или не использовать — двойное связывание не обязательное, его можно даже отключить на уровне компилятора, и его вообще не будет нигде. Это для тех, кто не любит биндинги. Биндинги получают с помощью директивы <code>bind:</code>.<br/>
<br/>
<h3>Дополнительные возможности Svelte</h3><br/>
Первые две возможности: <b>SSR &amp; Hydration</b> — серверный рендеринг и гидрация, и <b>built-in state management</b> — встроенное глобальное управление состоянием на основе собственного решения, так называемы store.<br/>
<br/>
В принципе, можно использовать Redux, что многие и делают: те, кто привык к Redux, используют его вместе со Svelte. Но есть внутреннее решение проще, которое глубоко интегрировано так, что если вы регистрируете это в store, то он сразу доступен во всех иерархии компонентов — не надо вообще никаких манипуляций. Единственное, что для его использования надо применять префикс <code>$</code>, то есть все методы или данные store записываются с этим префиксом. <code>$имя</code> можно использовать в любых шаблонах.<br/>
<br/>
У store есть интересная особенность, которую я больше нигде не видел, — он распространяется глобально на одну иерархию компонентов. Если у вас, например, есть Root-компонент, он используется во всей этой иерархии. Если у вас появился другой store где-то внутри этой иерархии, то на всю нижнюю иерархию распространяется уже этот store.<br/>
<br/>
Это удобно когда вы хотите сделать большой сложный компонент со множеством подкомпонентов, и дальше его использовать в разных проектах, в одних из которых есть Redux, а в других нет. Если вы используете обычные store с Redux, то вы должны убедиться, что в проекте, куда вы его добавляете, есть Redux. Здесь это не нужно делать — Svelte реализует свой собственный store для этой подиерархии. Его можно легко переносить даже в те проекты, где глобального store нет вообще. Вы занесли, а Svelte внутри себя уже все делает.<br/>
<br/>
<b>Custom elements поддерживаются из коробки</b>. Есть <a href="https://custom-elements-everywhere.com/libraries/svelte/results/results.html">специальный сайт</a> на котором тестируется поддержка фреймворками стандарта Web Components. Согласно тестам Svelte имеет 100% поддержку кастомных элементов. Это работает так: указывается имя тэга, в компиляторе ставится флажок «customElement: true», и генерируется готовый к использованию кастомный элемент, который поддерживает все существующие возможности Svelte.<br/>
<br/>
<b>Sapper — Svelte app maker</b>. Это аналог Next.js и Nuxt.js для Vue. В принципе все то же самое: изоморфность, поддержка code-splitting, prefetching и offline из коробки и другие фичи. По-моему, недавно даже часть идей роутинга вошла из Sapper в Next.js. <br/>
<br/>
Но не один Svelte этим занимается. Мы за добросовестную конкуренцию!<br/>
<br/>
<h2>Кто еще?</h2><br/>
<b>Stencil</b> — это фреймворк от разработчиков Ionic. Они также работают над компилируемым фреймворком, но с большим уклоном именно на веб-компоненты и кастомные элементы. Svelte отличается от него, тем что его компоненты, как правило, принято компилировать в обычные JS классы и нет уклона в веб-компоненты.<br/>
<br/>
<b>Glimmer</b> — думаю, все знают этот проект. Он здесь приведен только потому, что он тоже компилируется: у него свой байткод, своя виртуальная машина, очевидно дающая дополнительные оптимизации для итогового кода.<br/>
<br/>
<b>Marko от eBay</b>. Подробно не изучал, но они тоже компилируют, не уверен, что настолько глубоко, как Svelte. Правда я и не разбирался подробно и могу ошибаться.<br/>
<br/>
<b>Angular</b>. Здесь есть AOT-компилятор, и он хорошо промоутится, но это просто заранее перекомпилирование строковых шаблонов в уже готовый разобранный вид. Насколько я понимаю, полной AoT-компиляции там нет пока.<br/>
<br/>
<h2>Hello movies</h2><br/>
Я написал небольшое приложение — список фильмов с фильтрами на основе TMDb API. В нем есть категории: popular, top rated, upcoming. Можно походить по страничкам, выбрать страну, применить для нее фильтры, поменять язык. Это примитивное приложение занимает всего 6,4 Kb.<br/>
<br/>
В общей сложности HELLO MOVIES — это всего 172 строчки кода вместе с HTML, из них 36 строчек JS-кода вместе со всякими кавычками. Это весь код который я написал лично. Естественно, все это компилируется в гораздо больший объем, но для меня, как для разработчика, это неважно.<br/>
<br/>
Еще немного показателей. «TodoList MVC» на Svelte занимает 3,6 Kb — зависит от того, кто как пишет, но даже на Vanilla он занимает 11 Kb, а на Vue и React и того больше — по 80 и 300 Kb, соответственно. Проект «RealWorld», клон Medium, с регистрацией, аккаунтами, лайками, шэрами, френдами — 40 Kb, на React и Angular по 211 и 575 Kb. Клон «HackerNews» на Svelte — 30 Kb, на React и Vue — в несколько раз больше.<br/>
<br/>
<h2>Бенчмарки</h2><br/>
Все мы любим похоливарить на тему бенчмарков. Я использовал известный бенчмарк <a href="https://github.com/krausest/js-framework-benchmark">Krausest</a>. Вы, наверное, думаете, что я сейчас покажу результаты, где Svelte просто всех рвет в клочья, а Inferno просто плачет в сторонке. Но этого не будет.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/3r/xz/4_/3rxz4_c2qbhoczgeo8yzr_kbg8s.jpeg" data-src="https://habrastorage.org/webt/3r/xz/4_/3rxz4_c2qbhoczgeo8yzr_kbg8s.jpeg" data-blurred="true"/><br/>
<br/>
Я взял сравнение Svelte с большой тройкой — Angular, React и Vue в последних версиях. В итоге выделил две первых позиции относительно Vanilla. Причем здесь цифры не так важны, как основная идея, которая заключается в том, что <b>Svelte очень сбалансирован</b>.<br/>
<br/>
Svelte стремится быть сбалансированным — <b>он хорош по всем показателям в любых бенчмарках</b>. По некоторым параметрам Svelte даже обгоняет Vanilla, по некоторым занимает первое, а где-то его обгоняет Vue и Angular. При этом во всех тестах Angular и Vue потребляют много памяти, а Svelte — нет. Он не стремится быть самым лучшым вообще везде, хотя он сопоставимо быстрый, потребляет мало памяти и имеет быстрый запуск. Основная суть — баланс.<br/>
<br/>
Пока Svelte пока мало кто использует — это достаточно новый инструмент. Давайте посмотрим, где же он применяется.<br/>
<br/>
<h2>Чик-чик — и в продакшн!</h2><br/>
Автор Svelte работает в New York Times. Это достаточно большой продакшн. Конечно, не весь сайт сделан на Svelte, думаю, это большой legacy-проект с CMS, где все сделано прежде всего для редакторов. Многие интерактивные спецпроекты и виджеты, которые они помещают на странице, сделаны на этом фреймворке.<br/>
<br/>
<img src="https://lh6.googleusercontent.com/x9mlRLV6egIh3R538IPHzpoU5rkUFOirwqmc510F96R3aq7P8i30pzdj1TYXfS1becPDXp0I5wJ6xHa9VlNaPhf4jT67LMy_gvsRwobhaLjH0z_C-XpxdLLl0_vfeTPzW-M0xevL"/><br/>
<br/>
Например, <a href="https://www.nytimes.com/interactive/2017/08/09/upshot/game-of-thrones-chart.html">интерактивный виджет-опрос</a> по теме «Игры престолов» — с анимашками, с Drag&amp;Drop. Этот виджет реализован как раз на Svelte, и таких примеров много.<br/>
<br/>
Японская облачная платформа для игр <a href="http://www.soft-gear.co.jp/service/library/strix_cloud/">Soft-Gear</a> с достаточно сложной админкой, у которой я видел скриншоты, на Svelte. Я это знаю, потому что ее разработчик сидит у нас в Телеграм-чатике и мы с ним общаемся. <br/>
 <br/>
Интерфейс сервиса мультикастинга <a href="https://airca.st/">airca.st</a> полностью сделан на Svelte. Редактор сервиса сторителлинга <a href="https://www.dabblewriter.com/">Dabble</a> полностью на Svelte. Забавный сервис поиска электро-велосипедов поблизости <a href="http://www.i-want-to-ride-an-electric-citi.bike/">i-want-to-ride-an-electric-citi</a> с прикольными картами и анимашками тоже использует Svelte.<br/>
<br/>
В заключение еще один наш кейс. Наверное, все знают RuTube. Сейчас мы сделали им обновление для Smart TV для платформ Tizen, в том числе Samsung. Их новое приложение для Tizen для Smart TV будет написано тоже на Svelte. Оно уже сейчас готовится к публикации, будет выглядеть примерно так.<br/>
<br/>
<img src="https://lh5.googleusercontent.com/8m4v64h9MIC8ojT8lXmL1G1h7JVubaFbDmleh8bJ2QGp7Sq0x77J9GMMP7mPKYKFGlMd7Ossw32Dp-cCoQFmGZeJ-Z_HpKzfW-F-t5hGiFg1RBOYBYSwTz3HJHO12wqryUySedA0"/><br/>
<br/>
<h2>Итого плюсы</h2><br/>
<br/>
<b>Итоговый код standalone vanilla JavaScript без зависимостей</b>. Он решает только те проблемы, которые вы решаете в своих компонентах, никакого overhead нет.<br/>
<br/>
<b>Небольшой размер и высокая производительность</b>. В Svelte нет никаких абстракций между кодом и DOM. Здесь вообще минимум абстракций.<br/>
<br/>
<b>Низкий порог входа</b>. Все говорят, что очень просто обучиться Vue, но изучить Svelte еще проще. У него простой <a href="https://svelte.dev/tutoria">гайд</a>, отличный <a href="https://svelte.dev/repl">REPL</a>, причем все ссылки с гайда идут на готовый пример, который можно потыкать и изменять.<br/>
<br/>
<b>Мощь статического анализа и компиляции из коробки</b>. Хотя я считаю, что там работы еще много — и компилятор не идеален, и статический анализатор используется далеко не на полную катушку. Но это все зашито на уровне концепции, поэтому будет развиваться.<br/>
<br/>
<b>Code-splitting &amp; tree-shaking</b>. Опять же на уровне концепции решены проблемы с code-splitting и tree-shaking. Все компоненты и любую иерархию компоненты можно собрать отдельно. Это будут отдельные независимые модули, которые можно сочетать в любой последовательности и получать разные пакеты. <br/>
<br/>
<b>Micro-frontends ready</b>. Это очень хорошо для микро-фронтендов. У нас даже есть небольшой опыт, когда на каждой странице, которая отдавалась с сервера с помощью обычного PHP, находилось полностью независимое Svelte-приложение. притом, что общая кодовая база была единая. Мы просто набирали из разных компонентов, для каждой страницы собирали отдельно и получали абсолютно независимые приложения. Даже внутри этих приложений можно независимо проводить code-splitting и tree-shaking.<br/>
<br/>
<h2>Итого минусы</h2><br/>
<br/>
<b>Svelte довольно молод, мало готовых решений</b>. Первые релизы были в конце 2016 года. Но уже есть вторая версия и даже идут обсуждения третьей.<br/>
<br/>
<b>Непроверенный подход</b>. В принципе, подход с перекомпиляцией всего и вся еще не до конца опробован в крупных проектах. Но мы уже года полтора его используем в продакшене. Конечно, есть проблемы, но не больше, чем в других фреймворках, которые мы использовали до этого, в том же самом Vue.<br/>
<br/>
<b>Нет поддержки корпораций</b>. Если React поддерживает Facebook, Angular — Google, Vue кто только не поддерживает, то здесь проект держится на Rich Harris и команде майнтейнеров, которые вместе с ним работают и я рад быть частью этой команды.<br/>
<br/>
<blockquote>Всего через неделю на <a href="https://frontendconf.ru/moscow-rit/2019">Frontend Conf</a> в рамках РИТ++ Павел Малышев пойдет дальше и <a href="https://frontendconf.ru/moscow-rit/2019/abstracts/4622">расскажет</a>, что делать, если хочется больше ванилы. И еще 33 отличных доклада по фронтенду будет на фестивале. Читайте <a href="https://habr.com/ru/company/oleg-bunin/blog/450820/">здесь</a> подробнее о темах и концепции и успевайте присоединиться к большой компании профессионалов на РИТ++ 27 и 28 мая.</blockquote></div></div> <!----> <div class="tm-article-poll"><div class="tm-notice tm-article-poll__notice tm-notice_positive"><!----> <div class="tm-notice__inner"><!----> <div class="tm-notice__content"><span>Только зарегистрированные пользователи могут участвовать в опросе. <a rel="nofollow" href="/kek/v1/auth/habrahabr/?back=/ru/company/oleg-bunin/blog/450822/&hl=ru">Войдите</a>, пожалуйста.</span></div></div></div> <div class="tm-article-poll__header">Нравится ли вам идея AOT-компиляции фреймворка Svelte?</div> <div class="tm-article-poll__answers"><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent tm-article-poll__answer-percent_winning">
            69.71%
          </span> <span class="tm-article-poll__answer-label">Да</span> <span class="tm-article-poll__answer-votes">
            244
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress tm-article-poll__answer-progress_winning" style="width:69.71%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            8.57%
          </span> <span class="tm-article-poll__answer-label">Нет</span> <span class="tm-article-poll__answer-votes">
            30
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:8.57%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            21.71%
          </span> <span class="tm-article-poll__answer-label">Зачем?</span> <span class="tm-article-poll__answer-votes">
            76
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:21.71%;"></div></div></div></div> <div class="tm-article-poll__stats">
       Проголосовали 350 пользователей. 

       Воздержались 104 пользователя. 
    </div></div></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bfrontend%5D" class="tm-tags-list__link">frontend</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bfrontendconf%5D" class="tm-tags-list__link">frontendconf</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%84%D1%80%D1%8D%D0%B9%D0%BC%D0%B2%D0%BE%D1%80%D0%BA%D0%B8%5D" class="tm-tags-list__link">фрэймворки</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bframework%5D" class="tm-tags-list__link">framework</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Breact%5D" class="tm-tags-list__link">react</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Breact.js%5D" class="tm-tags-list__link">react.js</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bangular%5D" class="tm-tags-list__link">angular</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bvue%5D" class="tm-tags-list__link">vue</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bsvelte%5D" class="tm-tags-list__link">svelte</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/company/oleg-bunin/blog/" class="tm-hubs-list__link router-link-active">
    Блог компании Конференции Олега Бунина (Онтико)
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/webdev/" class="tm-hubs-list__link">
    Разработка веб-сайтов
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/javascript/" class="tm-hubs-list__link">
    JavaScript
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/angular/" class="tm-hubs-list__link">
    Angular
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/sveltejs/" class="tm-hubs-list__link">
    SvelteJS
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 60: ↑51 и ↓9</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 60: ↑51 и ↓9" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+42</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">45K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    150
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/company/oleg-bunin/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" height="40" src="//habrastorage.org/getpro/habr/company/7c3/ad4/7b2/7c3ad47b2aae71b56795f618534e7a51.jpg" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/company/oleg-bunin/profile/" class="tm-company-snippet__title">Конференции Олега Бунина (Онтико)</a> <div class="tm-company-snippet__description">Профессиональные конференции для IT-разработчиков</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <div class="tm-article-author__company-contacts"><a href="https://facebook.com/oleg.bunin" rel="noopener" target="_blank" class="tm-article-author__contact">
      Facebook
    </a><a href="https://facebook.com/HighLoadConference" rel="noopener" target="_blank" class="tm-article-author__contact">
      Facebook
    </a><a href="https://facebook.com/ritfest" rel="noopener" target="_blank" class="tm-article-author__contact">
      Facebook
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/glebmachine/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/118/ea7/631/118ea7631403936094eafd562562e94d.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 86 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    64
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">36</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Глеб Михеев</span> <a href="/ru/users/glebmachine/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @glebmachine
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Фронтенд-разработчик</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/company/oleg-bunin/blog/450822/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 61 
    </span></a> <!----></div></div></div>  <!---->  <!----> <!----></div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header"><h2 class="tm-block__title">Информация</h2> <!----></header> <div class="tm-block__body"><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата основания</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2007-12-31T21:00:00.000Z" title="2008-01-01, 00:00">1  января  2008</time></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Россия
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="http://www.ontico.ru/" target="_blank" class="tm-company-basic-info__link">
      www.ontico.ru
    </a></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    11–30 человек
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2010-02-24T19:37:40.000Z" title="2010-02-24, 22:37">24  февраля  2010</time></dd></dl> <!----></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/oleg-bunin/blog/450822/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/oleg-bunin/blog/450822/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"450822":{"id":"450822","timePublished":"2019-05-20T12:19:54+00:00","isCorporative":true,"lang":"ru","titleHtml":"Исчезающие фреймворки","leadData":{"textHtml":"Почему мы&nbsp;используем фреймворки? Angular, React и&nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&nbsp;разрабатывать сложные интерфейсы. За&nbsp;последнее десятилетие фреймворки стали стандартом. Дорогим стандартом. С&nbsp;тех пор как фреймворки вошли в&nbsp;обиход, JS&nbsp;сильно раздуло. Страниц весом несколько мегабайт становится больше, и&nbsp;существенная часть этого объема &mdash; фреймворк сам по&nbsp;себе. Кажется, это немного, но&nbsp;для пользователя критично&nbsp;&mdash; на&nbsp;телефоне или слабом интернете страница может даже не&nbsp;загрузиться. Это проблема.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fl4\u002Fwd\u002Fk7\u002Fl4wdk7s_mctdg-p6ctwusbwiq7m.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКроме лишнего веса у классических фреймворков много других минусов и они подходят не для всех проектов. Эти проблемы решены в «исчезающих фреймворках». Что это за новый тренд, почему это не «еще один JS-фреймворк», а хорошая идея и как таинственные фреймворки могут улучшить наши приложения, расскажет Павел Малышев.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":null,"image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":64,"votesCount":86},"rating":36,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"61891","alias":"glebmachine","fullname":"Глеб Михеев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fea7\u002F631\u002F118ea7631403936094eafd562562e94d.jpg","speciality":"Фронтенд-разработчик"},"statistics":{"commentsCount":61,"favoritesCount":150,"readingCount":45068,"score":42,"votesCount":60},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true},{"relatedData":null,"id":"22278","alias":"sveltejs","type":"collective","title":"SvelteJS","titleHtml":"SvelteJS","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПочему мы используем фреймворки? Angular, React и Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и разрабатывать сложные интерфейсы. За последнее десятилетие фреймворки стали стандартом. Дорогим стандартом. С тех пор как фреймворки вошли в обиход, JS сильно раздуло. Страниц весом несколько мегабайт становится больше, и существенная часть этого объема — фреймворк сам по себе. Кажется, это немного, но для пользователя критично — на телефоне или слабом интернете страница может даже не загрузиться. Это проблема.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fl4\u002Fwd\u002Fk7\u002Fl4wdk7s_mctdg-p6ctwusbwiq7m.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКроме лишнего веса у классических фреймворков много других минусов и они подходят не для всех проектов. Эти проблемы решены в «исчезающих фреймворках». Что это за новый тренд, почему это не «еще один JS-фреймворк», а хорошая идея и как таинственные фреймворки могут улучшить наши приложения, расскажет Павел Малышев.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003EО спикере: Павел Малышев\u003C\u002Fb\u003E (\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fusers\u002Fpaulmaly\u002F\" class=\"user_link\"\u003EPaulMaly\u003C\u002Fa\u003E) — fullstack со стажем больше 10 лет. Работает в компании Mustlab, которая занимается аутсорсингом веб, Smart TV и мобильных устройств, а также IoT. Евангелист фреймворка Svelte JS в России, ведет \u003Ca href=\"https:\u002F\u002Ft.me\u002Fsveltejs\"\u003ETelegram-группу\u003C\u002Fa\u003E на эту тему. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"oembed\"\u003E\u003Cdiv\u003E\u003Cdiv style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;\"\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FNvNe4nKmZT0?rel=0&amp;showinfo=1&amp;hl=en-US\" data-style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" id=\"\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЧего не должно быть в докладе\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nКогда я обдумывал этот рассказ, решил, что он должен быть нестандартным. Поэтому я выписал то, чего здесь быть не должно. Не будет акцента на конкретный фреймворк, сравнения с другими фреймворками – они всем надоели, и, конечно, мне не хочется быть Капитаном Очевидность. Всего этого не должно было быть в моем рассказе, но, к сожалению, будет…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКогда вы прочитали название, наверное, подумали, что появился еще один фреймворк, а их и так целый зоопарк. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh5.googleusercontent.com\u002FFyaohwlsHNaYP95oxHdMCRX5KPc9Nps1fAI6WMO4zo0ZGtLPhke-O88xJ-g5-JoFKYkK_I55lSeV1mV2mDZMi6e1sWtxYjNoJJLPFa9YGu7UV9IZdJCvFHLnPksk0pJy2acVo2JA\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМне кажется, если появляется новый фреймворк, значит, старые не удовлетворяют какие-то наши потребности. Возможно, сами потребности меняются со временем, и именно поэтому нам нужны новые решения — более эффективные и интересные. Поэтому прошу вас подойти к изложенному с этой точки зрения непредвзято и посмотреть на исчезающие фреймворки, как на новый инструмент, который, возможно, поможет в вашей работе.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля начала разберемся, кто есть кто.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EКто есть кто\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЯ взял большую тройку и Svelte. Интересно то, что каждый инструмент характеризует себя по-разному. \u003Cb\u003EAngular\u003C\u002Fb\u003E позиционирует себя, как фреймворк на все случаи жизни, «все в коробке». \u003Cb\u003EReact\u003C\u002Fb\u003E мимикрирует под библиотеку: «Я такой маленький, как библиотека», но вместе со всей инфраструктурой это тоже полноценный фреймворк. \u003Cb\u003EVue\u003C\u002Fb\u003E — якобы прогрессивный фреймворк. Вы можете переходить на него с jQuery последовательно перенося код, начиная чуть ли не с обычного тэга \u003Ccode\u003Escript\u003C\u002Fcode\u003E без сборщиков. \u003Cb\u003ESvelte\u003C\u002Fb\u003E — магически исчезающий фреймворк. WAT?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДавайте разбираться, о чем это я вообще.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПочему фреймворки стали исчезать?\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EМы отправляем слишком много кода нашим пользователям.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nНаши клиенты становятся более мобильными, но технологии интернета не везде хороши — даже 3G есть не везде, не говоря про LTE. Нам надо сокращать размер кода.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа эту тему есть \u003Ca href=\"https:\u002F\u002Finfrequently.org\u002F2017\u002F10\u002Fcan-you-afford-it-real-world-web-performance-budgets\u002F\"\u003Eинтересное исследование\u003C\u002Fa\u003E от 2017 года, которое показывает, что если в ваше приложении много JS, то вы можете поставить лишь \u003Cb\u003E130 Kb, чтобы пользователь был доволен\u003C\u002Fb\u003E. Если JS мало, то до 170Kb. Такая разница обусловлена тем, что в исследовании учитывалось, что JS отличается от других видов ресурсов, его надо распарсить, интерпретировать и прочее.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh6.googleusercontent.com\u002FZSSHLHXf5sF3R4qaz5DVeK_arFd4SkZ1XtBRlXo3cJprYtvQEHShgovvAp3h4pkwCixu47FiHEf_Aphon2wVi3o0AWrg3YGjTmhYmhy_YoWDKHtdlqs5nb7f6-2FnbiBB7ogqA8o\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ исследовании 130 Kb — это не только JS, а вообще все, включая CSS, HTML, конечно, без картинок. При этом один Angular весит 143 Kb, а мы еще даже не написали ни одной строчки кода. Посмотрим, что нам предлагают текущие решения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПроизводительность\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ принципе, любой классический фреймворк — это абстракция над платформой, которая позволяет нам писать на более удобных уровнях. Это плохо тем, что любая абстракция несет некоторые издержки, в том числе, и по производительности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EМы несем дополнительные издержки из-за лишних абстракций между нашим кодом и браузером.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nФишка исчезающих фреймворков в том, что они \u003Cb\u003Eубирают лишние абстракции и вычисления из рантайма браузера\u003C\u002Fb\u003E, производя анализ и расчеты в момент компиляции. Исчезают они именно поэтому. Об этом поговорим подробнее чуть ниже.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EСовместимость\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EРешения, которые написаны для классического фреймворка, нельзя применить где угодно.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nОни работают только в рамках этого фреймворка. Например, вы делаете 2-3 проекта на своем любимом React, написали для него кучу классных решений, а потом решили переехать на Angular. Эти решения вам больше не нужны, их можно выкинуть. Хотя основная идея — соответствие компонентов, классические фреймворки лишают нас возможности переиспользования кода.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nФишка исчезающих фреймворков в том, что у них \u003Cb\u003Eнет никаких абстракций\u003C\u002Fb\u003E, и в этом случае нет никакого фреймворка в рантайме. Ваш код — это абсолютно ванильный JS, который можно унести куда угодно — в любой проект даже на другом фреймворке. Например, можно взять код на исчезающем фреймворке и перенести его на React.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003ECode splitting &amp; tree shaking\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EСтарые технологии мешают применять новые технологии.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nБольшинство фреймворков создавались когда эти технологии не так были развиты. Мы имеем достаточно монолитное ядро, и любой компонент, даже минимальный кусочек вашего кода завязан на весь фреймворк. Соответственно, эффективно делать code splitting и даже tree shaking не получается.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСейчас все фреймворки развиваются в сторону большей модульности, чтобы «трястись» лучше. В исчезающих фреймворках это решено из коробки, потому что они сделаны так, что \u003Cb\u003Eв бандл добавляется только тот код, который вам нужен изначально\u003C\u002Fb\u003E, и он решает исключительно вашу задачу. Это очень конкретный кейс — как будто вы ровно для своей задачи написали код руками и засунули его в бандл, только это за вас делает фреймворк.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EFeature cost\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EЛюбой фреймворк имеет цену новой фичи.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nСообщество требует разных новых фич и каждый участник — что-то свое, а любая фича имеет свою цену. В исчезающих фреймворках эта проблема решена на уровне концепции, потому что любая фича, которую вы не используете, никогда не попадет к вам в бандл. \u003Cbr\u002F\u003E\r\nИтак, главный вопрос: могут ли исчезающие фреймворки, и конкретно Svelte, решить все эти проблемы? Давайте разбираться.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EБе\u003Cs\u003E\u003Cfont color=\"red\"\u003Eз\u003C\u002Ffont\u003E\u003C\u002Fs\u003Eс рантайма\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nРантайм — достаточно эфемерная тема. Не совсем понятно, что это такое, и разные люди понимают это по-разному. В данном контексте я буду говорить о рантайме с точки зрения двух аспектов: \u003Cb\u003Eокружения, в котором выполняется код\u003C\u002Fb\u003E и непосредственно \u003Cb\u003Eисполнения кода\u003C\u002Fb\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003ERuntime как окружение\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nРазберемся на примере. Если код написан на Vanilla, то единственный рантайм, который нужен — это DOM. Если код написан на React, то нужен другой рантайм: DOM, React и React DOM.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EЛюбой, самый маленький компонент вашего кода в React будет зависеть от того, в каком окружении работает ваш фреймворк, то есть от рантайма.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003ERuntime как исполнение кода\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВторой момент — рантайм с точки зрения исполнения кода во время работы. Рассмотрим базовый на сегодня кейс рантайма для фронтенда — виртуальный DOM — большой кусок рантайма, например, в React-приложениях, — на простом примере:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E&lt;h1\u003EHello {world}&lt;\u002Fh1\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВ этом куске HTML есть динамическая переменная. С точки зрения виртуального DOM код работает так.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПроисходит изменение этой переменной.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСтроится дерево виртуального DOM в памяти.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСравнивается с предыдущей версией.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EВыполняются непосредственно DOM-манипуляции, которые в итоге довольно эффективные, потому что мы получили некий diff и знаем точно, что где поменять в реальном DOM.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh5.googleusercontent.com\u002FdHOLPJA3m9k8i2i82qkDSc3DcZFNCTqFJAdPsHGirjFx1DkrJRkeytgzveOn8kZtsYno05n88AQ5nV05N4Pnxg72QTE5n_8s7pdITnrY445v3I7uLfi2ZP280qAwG2tZV-7y8GF5\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EВиртуальный DOM — это абсолютный overhead, потому что всегда будет быстрее так: как только произошли изменения, сразу сделали изменения в DOM.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh5.googleusercontent.com\u002FITz-003NvnhOrfc86A_sHfiJuPRZHpZ4WMTHplDFhrgYY2q3Fe4M_PBU6i4dEk5zMF8Eg64xD-QqHw199xm2h21YQY_rWRdqMQk2d2rNg_6VqbOvYNNa8IPt0vmlF0owXz0TfizI\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВопрос: как понять, что изменилось и что нужно изменить? Виртуальный DOM решает вопрос того, что изменилось, а не скорости этих изменений. Скорость достигается за счет того, что мы максимально хорошо знаем, что изменилось, и можем эффективно манипулировать с DOM.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EСкомпилируй это\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЧтобы решить этот вопрос, исчезающие фреймворки просто определяют изменения на этапе компиляции: вы написали код, во время компиляции исчезающий фреймворк строит все зависимости, вычисляет, какие манипуляции в DOM нужны. Фактически все, что делает виртуальный DOM в рантайме, исчезающий фреймворк делает в билд-тайме: генерирует прямые манипуляции с DOM, которые просто вызываются во время рантайма. В результате получается схема: когда мы делаем изменения, сразу же идет манипуляция в DOM.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EYou can’t write serious applications in vanilla JavaScript without hitting a complexity wall. But a compiler can do it for you.\u003Cbr\u002F\u003E\r\n\u003Cb\u003ERich Harris, создатель Svelte\u003C\u002Fb\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nРасскажу, как я познакомился со Svelte. У нас был \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F345028\u002F\"\u003Eинтересный проект \u003C\u002Fa\u003E— виджет для вставки на неограниченное количество сайтов, при этом мы не знаем, какие это сайты, на каких устройствах пользователь будет их открывать. Виджет должен быть очень маленьким по размеру и очень быстрым по скорости. Естественно, когда мы взялись за эту задачу, сразу поняли, что делать на React или даже на Vue не вариант, потому что получается достаточно много лишних накладных расходов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы практически склонились написать на Vanilla, но это сложно и не всегда удобно поддерживать. Но нам повезло — мы наткнулись на Svelte. Основная идея этого фреймворка приведена в цитате: вы не можете написать серьезное приложение на Vanilla, потому что очень быстро упретесь в стену сложности — команде будет сложно работать, нет общих подходов, а компилятор может сделать это за вас.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EКак это работает\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh6.googleusercontent.com\u002FT1Ek5BSMsbRi7ujSSHsxRnHnCcQSN9NynUqbHQBs1Q_r0ezDTTNneQyDsI7ppuH4QPhvjAPN8RKeGLUAZIvoQpFzuyYapBEBXmbhtLsi870kvf8kWzuMQsgNfLmZSviSAOHYV1cD\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EИсходный код — это framework-based code\u003C\u002Fb\u003E — код, который зависит от фреймворка. Все как обычно: есть некая документация, вы пишите код, как будто бы вы используете любой другой фреймворк, в котором есть какие-то API, принципы и подходы. Все как обычно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВо время сборки этот код компилируется. В итоге в бандле лежит ванильный JS, причем, как я уже говорил, туда попадает ровно тот код, который необходим для исполнения конкретно вашего приложения. Если вы через две минуты допишите туда еще какую-то новую функцию или используете новую фичу из фреймворка, Svelte ее туда добавит, и она также попадет в бандл. В противном случае этого не произойдет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРассмотрим этапы поподробнее. Первый шаг — \u003Cb\u003Ecomponent\u003C\u002Fb\u003E. Рассмотрим тот же компонент.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E&lt;h1\u003EHello {world}&lt;\u002Fh1\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nНа втором шаге — \u003Cb\u003EAST\u003C\u002Fb\u003E — код продуцируется в абстрактное синтаксическое дерево.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E{\"type\": \"Element\", \"name\":\n\"h1\", \"children\": [{\n\"type\": \"Text\", \"data\": \n\"Hello\",....}]}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nТретий шаг — \u003Cb\u003EDOM API\u003C\u002Fb\u003E. На основе дерева производится непосредственно генерация кода, который необходим для работы этого компонента. Код очень простой, никаких сложных рантаймов и абстракций здесь нет в принципе.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Efunction update(changed, ctx) { \n  if (changed.name) {\n    text_1.data = ctx.name;\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВ конце статьи укажите в опросе, нравится ли вам идея AOT-компиляции фреймворка Svelte? В \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F345028\u002F\"\u003Eпрошлый раз\u003C\u002Fa\u003E большинство высказалось положительно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh4.googleusercontent.com\u002F3I2gtgDXujrIgs3-EUlTIQ7LGqj9YatWyy_f2EjvdNtE0CXtewiViScyBOQZDwQ7IT0CCm7s2DKV0T4FAIbIgFSJ6EbB4MrzOGxTPXcoZrdiCuw16wePda9jlIM5un4H7wG9f3rS\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь давайте посмотрим, что такое Svelte.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003ESvelte\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nАнглийское слово svelte или svelt, означает «стройный, гибкий». Svelte JS такой и есть!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ утверждаю, что это не «Yet another JS framework», потому что это \u003Cb\u003Ebuild-time UI framework\u003C\u002Fb\u003E. Обычные фреймворки работают в рантайме, а Svelte существует только до того, как мы его скомпилировали.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто \u003Cb\u003Ecompile-time static analyzer\u003C\u002Fb\u003E, или статический анализатор кода, который во время компиляции проходит по коду, статически его анализирует и на основе этого генерирует соответствующий итоговый бандл.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто \u003Cb\u003Eahead-of-time compiler\u003C\u002Fb\u003E — AOT-компилятор, который это все делает. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСоздатель фреймворка Rich Harris, которого вы можете знать по таким инструментам, как Rollup, Ractive, Buble — аналога Babel — крутой чувак. На мой взгляд, тот же самый Rollup до сих пор остается лучшей реализацией tree-shaking. В нем он появился гораздо раньше, чем в Webpack, и до сих пор работает лучше. Harris изначально делал фреймворк Svelte с учетом tree-shaking, code splitting и других современных подходов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003ESvelte — это средство, писать vanilla JS без необходимости писать на vanilla JS.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nДавайте посмотрим на этот фреймворк изнутри.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EОднофайловый компонент\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003ESvelte — однофайловый компонент\u003C\u002Fb\u003E. Если вы работали с Vue, он вам будет очень напоминать этот фреймворк, но это неспроста. Синтаксис, который преимущественно используется в Vue, позаимствован из фреймворка Ractive, который тоже сделал Harris еще в 2012 году. Этот фреймворк, к сожалению, не стал популярным, мне кажется, потому что вышел в 1.0 слишком поздно. Они так замутили с версиями, что Ractive 6 лет был в минорных версиях.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМногие интерфейсы Vue оттуда позаимствовал, а Svelte — продолжатель Ractive. Поэтому вам будет казаться, что все похоже, но однофайловые компоненты появились в Ractive в 2013 году. Они выглядят чуть-чуть по-другому, но в целом — похоже. Любой компонент, который вы будете писать на Svelte, будет выглядеть примерно так.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"plaintext\"\u003E&lt;h1 \u003EHello {world}!&lt;\u002Fh1 \u003E\n&lt;script\u003E \n  export default {\n    \u002F* component behaviour *\u002F\n  };\n&lt;\u002Fscript\u003E\n&lt;style\u003E\n     \u002F* scoped styles *\u002F\n &lt;\u002Fstyle\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nСверху некий HTML-шаблон — обычный HTML без каких-то исключений. Единственное, что на него сверху наворочен некий язык шаблонов, который называется \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fhtmlx-org\u002FHTMLx\"\u003EHTMLx\u003C\u002Fa\u003E. Про него я расскажу подробней позже.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДальше идет скрипт, в котором мы пишем поведение нашего компонента. Как его писать, описано в гайде. Там можно импортировать, делать разные функции и методы — все как во Vue.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМожно использовать scoped style, чтобы получить из коробки изолированные стили компонентов. Это работает так: в main-компиляции генерируется хэш, в итоге получается как бы эмуляция Shadow DOM.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНи одна из секций не обязательна, поэтому компонент может состоять только из одного HTML.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EСинтаксис HTMLx\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nКак и в любом HTML, в скобках записываются данные.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E&lt;button\u003ESay hello {name}&lt;\u002Fbutton\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nТак записываются условные операторы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E{#if name}\n  &lt;button\u003ESay hello {name}&lt;\u002Fbutton\u003E \n{\u002Fif}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nПеречисления и циклы:\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E{#each users as { name, email}}\n  {#if name}\n    &lt;button\u003ESay hello {name}&lt;\u002Fbutton\u003E\n  {\u002Fif}\n{\u002Feach}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nМожно использовать директивы для отлавливания событий, для двойного биндинга данных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E{#each users as { name, email}}\n  {#if name}\n    &lt;button on:click=\"say(name)\"\u003ESay hello {name}&lt;button\u003E\n  {\u002Fif}\n{\u002Feach}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВ HTMLx очень мало директив — всего 4-5 видов, а кастомных директив, как в Angular, вообще нет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМожно любые динамические данные засовывать в любые атрибуты, с этим проблем нет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E&lt;div id= \"{dynamic}\"class=\"used\"\u003E\n{#each users as { name, email}}\n  {#if name}\n    &lt;button on:click=\"say(name) \" \u003ESay hello {name}&lt;button\u003E\n  {\u002Fif}\n{\u002Feach}\n&lt;\u002Fdiv\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EИзолированные стили и удаление неиспользованных\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЕсли вы используете изолированные стили, то кроме того, что они изолируются, неиспользуемые стили еще вырезаются автоматически.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E&lt;div id= \"{dynamic}\"class=\"used\"\u003E\n{#each users as { name, email}}\n  {#if name}\n    &lt;button on:click=\"say(name) \" \u003ESay hello {name}&lt;button\u003E\n  {\u002Fif}\n{\u002Feach}\n&lt;\u002Fdiv\u003E\n&lt;\u002Fstyle\u003E\n  .used {...}\n  .unused {...}\n&lt;\u002Fstyle\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЕсли стиль \u003Ccode\u003Eused\u003C\u002Fcode\u003E, то он используется, а если стиль \u003Ccode\u003Eunused\u003C\u002Fcode\u003E — его не будет в бандле. Фреймворк все порежет, но аккуратно. Поэтому эту фичу можно легко сломать, если использовать много динамики. Svelte подумает: «Я лучше не буду трогать» — и оставит. Надо быть аккуратным, но это очень удобно. Так как в Svelte есть статический анализатор, он показывает в консоли при запуске, какие стили не используются. Если они вам действительно не нужны, их можно сразу же убрать.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EКомпозиция компонентов\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЗдесь все как обычно: импортируем файл, регистрируем его в компонентах, используем как тэг.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E&lt;Nested foo= \"static\" bar={dynamic} bind:baz=baz \u002F\u003E \n&lt;script\u003E\n  import Nested from ‘Nested.html’;’\n  export default { \n    components: {Nested}\n  };\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nМожно через атрибуты передавать любые данные, использовать двойное связывание. Или не использовать — двойное связывание не обязательное, его можно даже отключить на уровне компилятора, и его вообще не будет нигде. Это для тех, кто не любит биндинги. Биндинги получают с помощью директивы \u003Ccode\u003Ebind:\u003C\u002Fcode\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EДополнительные возможности Svelte\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nПервые две возможности: \u003Cb\u003ESSR &amp; Hydration\u003C\u002Fb\u003E — серверный рендеринг и гидрация, и \u003Cb\u003Ebuilt-in state management\u003C\u002Fb\u003E — встроенное глобальное управление состоянием на основе собственного решения, так называемы store.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ принципе, можно использовать Redux, что многие и делают: те, кто привык к Redux, используют его вместе со Svelte. Но есть внутреннее решение проще, которое глубоко интегрировано так, что если вы регистрируете это в store, то он сразу доступен во всех иерархии компонентов — не надо вообще никаких манипуляций. Единственное, что для его использования надо применять префикс \u003Ccode\u003E$\u003C\u002Fcode\u003E, то есть все методы или данные store записываются с этим префиксом. \u003Ccode\u003E$имя\u003C\u002Fcode\u003E можно использовать в любых шаблонах.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУ store есть интересная особенность, которую я больше нигде не видел, — он распространяется глобально на одну иерархию компонентов. Если у вас, например, есть Root-компонент, он используется во всей этой иерархии. Если у вас появился другой store где-то внутри этой иерархии, то на всю нижнюю иерархию распространяется уже этот store.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто удобно когда вы хотите сделать большой сложный компонент со множеством подкомпонентов, и дальше его использовать в разных проектах, в одних из которых есть Redux, а в других нет. Если вы используете обычные store с Redux, то вы должны убедиться, что в проекте, куда вы его добавляете, есть Redux. Здесь это не нужно делать — Svelte реализует свой собственный store для этой подиерархии. Его можно легко переносить даже в те проекты, где глобального store нет вообще. Вы занесли, а Svelte внутри себя уже все делает.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ECustom elements поддерживаются из коробки\u003C\u002Fb\u003E. Есть \u003Ca href=\"https:\u002F\u002Fcustom-elements-everywhere.com\u002Flibraries\u002Fsvelte\u002Fresults\u002Fresults.html\"\u003Eспециальный сайт\u003C\u002Fa\u003E на котором тестируется поддержка фреймворками стандарта Web Components. Согласно тестам Svelte имеет 100% поддержку кастомных элементов. Это работает так: указывается имя тэга, в компиляторе ставится флажок «customElement: true», и генерируется готовый к использованию кастомный элемент, который поддерживает все существующие возможности Svelte.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ESapper — Svelte app maker\u003C\u002Fb\u003E. Это аналог Next.js и Nuxt.js для Vue. В принципе все то же самое: изоморфность, поддержка code-splitting, prefetching и offline из коробки и другие фичи. По-моему, недавно даже часть идей роутинга вошла из Sapper в Next.js. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо не один Svelte этим занимается. Мы за добросовестную конкуренцию!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EКто еще?\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003EStencil\u003C\u002Fb\u003E — это фреймворк от разработчиков Ionic. Они также работают над компилируемым фреймворком, но с большим уклоном именно на веб-компоненты и кастомные элементы. Svelte отличается от него, тем что его компоненты, как правило, принято компилировать в обычные JS классы и нет уклона в веб-компоненты.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EGlimmer\u003C\u002Fb\u003E — думаю, все знают этот проект. Он здесь приведен только потому, что он тоже компилируется: у него свой байткод, своя виртуальная машина, очевидно дающая дополнительные оптимизации для итогового кода.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EMarko от eBay\u003C\u002Fb\u003E. Подробно не изучал, но они тоже компилируют, не уверен, что настолько глубоко, как Svelte. Правда я и не разбирался подробно и могу ошибаться.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EAngular\u003C\u002Fb\u003E. Здесь есть AOT-компилятор, и он хорошо промоутится, но это просто заранее перекомпилирование строковых шаблонов в уже готовый разобранный вид. Насколько я понимаю, полной AoT-компиляции там нет пока.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EHello movies\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЯ написал небольшое приложение — список фильмов с фильтрами на основе TMDb API. В нем есть категории: popular, top rated, upcoming. Можно походить по страничкам, выбрать страну, применить для нее фильтры, поменять язык. Это примитивное приложение занимает всего 6,4 Kb.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ общей сложности HELLO MOVIES — это всего 172 строчки кода вместе с HTML, из них 36 строчек JS-кода вместе со всякими кавычками. Это весь код который я написал лично. Естественно, все это компилируется в гораздо больший объем, но для меня, как для разработчика, это неважно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕще немного показателей. «TodoList MVC» на Svelte занимает 3,6 Kb — зависит от того, кто как пишет, но даже на Vanilla он занимает 11 Kb, а на Vue и React и того больше — по 80 и 300 Kb, соответственно. Проект «RealWorld», клон Medium, с регистрацией, аккаунтами, лайками, шэрами, френдами — 40 Kb, на React и Angular по 211 и 575 Kb. Клон «HackerNews» на Svelte — 30 Kb, на React и Vue — в несколько раз больше.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EБенчмарки\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВсе мы любим похоливарить на тему бенчмарков. Я использовал известный бенчмарк \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fkrausest\u002Fjs-framework-benchmark\"\u003EKrausest\u003C\u002Fa\u003E. Вы, наверное, думаете, что я сейчас покажу результаты, где Svelte просто всех рвет в клочья, а Inferno просто плачет в сторонке. Но этого не будет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002F3r\u002Fxz\u002F4_\u002F3rxz4_c2qbhoczgeo8yzr_kbg8s.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F3r\u002Fxz\u002F4_\u002F3rxz4_c2qbhoczgeo8yzr_kbg8s.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ взял сравнение Svelte с большой тройкой — Angular, React и Vue в последних версиях. В итоге выделил две первых позиции относительно Vanilla. Причем здесь цифры не так важны, как основная идея, которая заключается в том, что \u003Cb\u003ESvelte очень сбалансирован\u003C\u002Fb\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nSvelte стремится быть сбалансированным — \u003Cb\u003Eон хорош по всем показателям в любых бенчмарках\u003C\u002Fb\u003E. По некоторым параметрам Svelte даже обгоняет Vanilla, по некоторым занимает первое, а где-то его обгоняет Vue и Angular. При этом во всех тестах Angular и Vue потребляют много памяти, а Svelte — нет. Он не стремится быть самым лучшым вообще везде, хотя он сопоставимо быстрый, потребляет мало памяти и имеет быстрый запуск. Основная суть — баланс.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПока Svelte пока мало кто использует — это достаточно новый инструмент. Давайте посмотрим, где же он применяется.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЧик-чик — и в продакшн!\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nАвтор Svelte работает в New York Times. Это достаточно большой продакшн. Конечно, не весь сайт сделан на Svelte, думаю, это большой legacy-проект с CMS, где все сделано прежде всего для редакторов. Многие интерактивные спецпроекты и виджеты, которые они помещают на странице, сделаны на этом фреймворке.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh6.googleusercontent.com\u002Fx9mlRLV6egIh3R538IPHzpoU5rkUFOirwqmc510F96R3aq7P8i30pzdj1TYXfS1becPDXp0I5wJ6xHa9VlNaPhf4jT67LMy_gvsRwobhaLjH0z_C-XpxdLLl0_vfeTPzW-M0xevL\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНапример, \u003Ca href=\"https:\u002F\u002Fwww.nytimes.com\u002Finteractive\u002F2017\u002F08\u002F09\u002Fupshot\u002Fgame-of-thrones-chart.html\"\u003Eинтерактивный виджет-опрос\u003C\u002Fa\u003E по теме «Игры престолов» — с анимашками, с Drag&amp;Drop. Этот виджет реализован как раз на Svelte, и таких примеров много.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯпонская облачная платформа для игр \u003Ca href=\"http:\u002F\u002Fwww.soft-gear.co.jp\u002Fservice\u002Flibrary\u002Fstrix_cloud\u002F\"\u003ESoft-Gear\u003C\u002Fa\u003E с достаточно сложной админкой, у которой я видел скриншоты, на Svelte. Я это знаю, потому что ее разработчик сидит у нас в Телеграм-чатике и мы с ним общаемся. \u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nИнтерфейс сервиса мультикастинга \u003Ca href=\"https:\u002F\u002Fairca.st\u002F\"\u003Eairca.st\u003C\u002Fa\u003E полностью сделан на Svelte. Редактор сервиса сторителлинга \u003Ca href=\"https:\u002F\u002Fwww.dabblewriter.com\u002F\"\u003EDabble\u003C\u002Fa\u003E полностью на Svelte. Забавный сервис поиска электро-велосипедов поблизости \u003Ca href=\"http:\u002F\u002Fwww.i-want-to-ride-an-electric-citi.bike\u002F\"\u003Ei-want-to-ride-an-electric-citi\u003C\u002Fa\u003E с прикольными картами и анимашками тоже использует Svelte.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ заключение еще один наш кейс. Наверное, все знают RuTube. Сейчас мы сделали им обновление для Smart TV для платформ Tizen, в том числе Samsung. Их новое приложение для Tizen для Smart TV будет написано тоже на Svelte. Оно уже сейчас готовится к публикации, будет выглядеть примерно так.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Flh5.googleusercontent.com\u002F8m4v64h9MIC8ojT8lXmL1G1h7JVubaFbDmleh8bJ2QGp7Sq0x77J9GMMP7mPKYKFGlMd7Ossw32Dp-cCoQFmGZeJ-Z_HpKzfW-F-t5hGiFg1RBOYBYSwTz3HJHO12wqryUySedA0\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EИтого плюсы\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EИтоговый код standalone vanilla JavaScript без зависимостей\u003C\u002Fb\u003E. Он решает только те проблемы, которые вы решаете в своих компонентах, никакого overhead нет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EНебольшой размер и высокая производительность\u003C\u002Fb\u003E. В Svelte нет никаких абстракций между кодом и DOM. Здесь вообще минимум абстракций.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EНизкий порог входа\u003C\u002Fb\u003E. Все говорят, что очень просто обучиться Vue, но изучить Svelte еще проще. У него простой \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Ftutoria\"\u003Eгайд\u003C\u002Fa\u003E, отличный \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002Frepl\"\u003EREPL\u003C\u002Fa\u003E, причем все ссылки с гайда идут на готовый пример, который можно потыкать и изменять.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EМощь статического анализа и компиляции из коробки\u003C\u002Fb\u003E. Хотя я считаю, что там работы еще много — и компилятор не идеален, и статический анализатор используется далеко не на полную катушку. Но это все зашито на уровне концепции, поэтому будет развиваться.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ECode-splitting &amp; tree-shaking\u003C\u002Fb\u003E. Опять же на уровне концепции решены проблемы с code-splitting и tree-shaking. Все компоненты и любую иерархию компоненты можно собрать отдельно. Это будут отдельные независимые модули, которые можно сочетать в любой последовательности и получать разные пакеты. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EMicro-frontends ready\u003C\u002Fb\u003E. Это очень хорошо для микро-фронтендов. У нас даже есть небольшой опыт, когда на каждой странице, которая отдавалась с сервера с помощью обычного PHP, находилось полностью независимое Svelte-приложение. притом, что общая кодовая база была единая. Мы просто набирали из разных компонентов, для каждой страницы собирали отдельно и получали абсолютно независимые приложения. Даже внутри этих приложений можно независимо проводить code-splitting и tree-shaking.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EИтого минусы\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ESvelte довольно молод, мало готовых решений\u003C\u002Fb\u003E. Первые релизы были в конце 2016 года. Но уже есть вторая версия и даже идут обсуждения третьей.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EНепроверенный подход\u003C\u002Fb\u003E. В принципе, подход с перекомпиляцией всего и вся еще не до конца опробован в крупных проектах. Но мы уже года полтора его используем в продакшене. Конечно, есть проблемы, но не больше, чем в других фреймворках, которые мы использовали до этого, в том же самом Vue.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EНет поддержки корпораций\u003C\u002Fb\u003E. Если React поддерживает Facebook, Angular — Google, Vue кто только не поддерживает, то здесь проект держится на Rich Harris и команде майнтейнеров, которые вместе с ним работают и я рад быть частью этой команды.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EВсего через неделю на \u003Ca href=\"https:\u002F\u002Ffrontendconf.ru\u002Fmoscow-rit\u002F2019\"\u003EFrontend Conf\u003C\u002Fa\u003E в рамках РИТ++ Павел Малышев пойдет дальше и \u003Ca href=\"https:\u002F\u002Ffrontendconf.ru\u002Fmoscow-rit\u002F2019\u002Fabstracts\u002F4622\"\u003Eрасскажет\u003C\u002Fa\u003E, что делать, если хочется больше ванилы. И еще 33 отличных доклада по фронтенду будет на фестивале. Читайте \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Foleg-bunin\u002Fblog\u002F450820\u002F\"\u003Eздесь\u003C\u002Fa\u003E подробнее о темах и концепции и успевайте присоединиться к большой компании профессионалов на РИТ++ 27 и 28 мая.\u003C\u002Fblockquote\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"frontend"},{"titleHtml":"frontendconf"},{"titleHtml":"фрэймворки"},{"titleHtml":"framework"},{"titleHtml":"react"},{"titleHtml":"react.js"},{"titleHtml":"angular"},{"titleHtml":"vue"},{"titleHtml":"svelte"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450822\u002Ff9457c0270b77ed1eb488a4aec8dbb15\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450822\u002Ff9457c0270b77ed1eb488a4aec8dbb15\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Foleg-bunin\\\u002Fblog\\\u002F450822\\\u002F\"},\"headline\":\"Исчезающие фреймворки\",\"datePublished\":\"2019-05-20T15:19:54+03:00\",\"dateModified\":\"2019-06-19T15:46:55+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Глеб Михеев\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Почему мы&nbsp;используем фреймворки? Angular, React и&nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&nbsp;разрабатывать слож...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Foleg-bunin\\\u002Fblog\\\u002F450822\\\u002F#post-content-body\",\"about\":[\"c_oleg-bunin\",\"h_webdev\",\"h_javascript\",\"h_angular\",\"h_sveltejs\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fl4\\\u002Fwd\\\u002Fk7\\\u002Fl4wdk7s_mctdg-p6ctwusbwiq7m.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fb9e\\\u002F324\\\u002Fd9c\\\u002Fb9e324d9cd7205923e0805c009b820e5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F8b5\\\u002F032\\\u002Fec3\\\u002F8b5032ec37fd48a2f95998759f41c5f9.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F12e\\\u002F082\\\u002Fa7e\\\u002F12e082a7e3f5e596d6251c22b4016046.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F5f8\\\u002F18a\\\u002Fd83\\\u002F5f818ad83b71a697f3af30a4b747bdaf.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F822\\\u002F0c9\\\u002F463\\\u002F8220c9463072b5a7aedd40185dfa8a70.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F5aa\\\u002Fbe9\\\u002Fd8e\\\u002F5aabe9d8e0bd77fef1a1ed0e1844ac91.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F3r\\\u002Fxz\\\u002F4_\\\u002F3rxz4_c2qbhoczgeo8yzr_kbg8s.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F080\\\u002F9a3\\\u002F6c8\\\u002F0809a36c8b7f7d9d4eb9e18fe3d3bfa2.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F46c\\\u002F154\\\u002Ff5d\\\u002F46c154f5d392f46698fb5a03e4234adc.png\"]}","metaDescription":"Почему мы&nbsp;используем фреймворки? Angular, React и&nbsp;Vue помогают нам строить сложные веб-приложения: структурировать код, управлять состоянием и&nbsp;разрабатывать сложные интерфейсы....","mainImageUrl":null,"amp":false},"polls":[{"id":"30354","timeElapsed":null,"answersType":"radio","votesCount":350,"passCount":104,"textHtml":"Нравится ли вам идея AOT-компиляции фреймворка Svelte?","relatedData":null,"variants":[{"id":"145398","textHtml":"Да","votesCount":244,"percent":69.71,"selected":false},{"id":"145400","textHtml":"Нет","votesCount":30,"percent":8.57,"selected":false},{"id":"145402","textHtml":"Зачем?","votesCount":76,"percent":21.71,"selected":false}]}],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"oleg-bunin":{"alias":"oleg-bunin","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F7c3\u002Fad4\u002F7b2\u002F7c3ad47b2aae71b56795f618534e7a51.jpg","titleHtml":"Конференции Олега Бунина (Онтико)","descriptionHtml":"Профессиональные конференции для IT-разработчиков","relatedData":null,"statistics":{"postsCount":676,"newsCount":7,"vacanciesCount":0,"employeesCount":83,"careerRating":null,"subscribersCount":48348,"rating":374.29,"invest":null},"foundationDate":{"year":"2008","month":"01","day":"01"},"location":{"city":{"id":"447159","title":"Москва"},"region":{"id":"1885","title":"Москва и Московская обл."},"country":{"id":"168","title":"Россия"}},"siteUrl":"http:\u002F\u002Fwww.ontico.ru\u002F","staffNumber":"11–30 человек","registrationDate":"2010-02-24T19:37:40+00:00","representativeUser":null,"contacts":[{"title":"Facebook","url":"https:\u002F\u002Ffacebook.com\u002Foleg.bunin"},{"title":"Facebook","url":"https:\u002F\u002Ffacebook.com\u002FHighLoadConference"},{"title":"Facebook","url":"https:\u002F\u002Ffacebook.com\u002Fritfest"}],"settings":{"analyticsSettings":[{"type":"ym","trackingId":"55760638"}],"branding":{"imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fbranding\u002F673\u002Fa67\u002F310\u002F673a67310118a40a792e1eb97151fd97.png","linkUrl":"https:\u002F\u002Fwww.highload.ru\u002Fmoscow\u002F2021\u002F?utm_source=habr&utm_medium=cpc&utm_campaign=title&utm_content=banner","pixelUrl":""},"status":"active"},"metadata":{"titleHtml":"Конференции Олега Бунина (Онтико), Москва - Профессиональные конференции для IT-разработчиков с 1 января 2008 г.","title":"Конференции Олега Бунина (Онтико), Москва - Профессиональные конференции для IT-разработчиков с 1 января 2008 г.","keywords":["Конференции","Управление разработкой","Программирование","DevOps","Карьера в IT-индустрии"],"descriptionHtml":"676 статей от авторов компании Конференции Олега Бунина (Онтико)","description":"676 статей от авторов компании Конференции Олега Бунина (Онтико)"},"aDeskSettings":null,"careerAlias":"ontico","maxCustomTrackerLinks":3}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
