<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Опыт разработки ассета Unity для поиска пути в 3D пространстве / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/450854\/"},"headline":"Опыт разработки ассета Unity для поиска пути в 3D пространстве","datePublished":"2019-05-07T13:53:06+03:00","dateModified":"2019-05-08T09:16:22+03:00","author":{"@type":"Person","name":"Samuel13"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Вас приветствует команда &laquo;Graceful Algorithms&raquo;!   В качестве эксперимента нами было принято решение вести &laquo;дневники&raquo; разработчиков, в которых мы будем делиться о...","url":"https:\/\/habr.com\/ru\/post\/450854\/#post-content-body","about":["h_unity","h_startuprise","f_develop","f_management"],"image":["https:\/\/habrastorage.org\/webt\/sl\/g0\/mm\/slg0mmebuga20hyrv4hiic-j2ho.jpeg","https:\/\/habrastorage.org\/webt\/jk\/ri\/sp\/jkrisph5ng_tz1slmdzfttxdoie.gif","https:\/\/habrastorage.org\/webt\/7u\/h4\/7q\/7uh47qdtjz_vkhribjsh19_xcc8.png","https:\/\/habrastorage.org\/webt\/x8\/3b\/kd\/x83bkdcsm3bxsxmeor0yhe8xij0.jpeg","https:\/\/habrastorage.org\/webt\/2k\/kl\/5p\/2kkl5pn7lgswpe_7bwixkioulpw.jpeg","https:\/\/habrastorage.org\/webt\/6o\/yn\/bd\/6oynbdbckmzfhtzu289blvzhqcu.jpeg","https:\/\/habrastorage.org\/webt\/ff\/ph\/is\/ffphis2un_0wdpsehrnwra1fiha.gif","https:\/\/habrastorage.org\/webt\/eq\/lt\/nd\/eqltndonsivsvukp1t6lhn_awmo.jpeg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Опыт разработки ассета Unity для поиска пути в 3D пространстве" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Опыт разработки ассета Unity для поиска пути в 3D пространстве" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Опыт разработки ассета Unity для поиска пути в 3D пространстве" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Вас приветствует команда «Graceful Algorithms»! 

В качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Вас приветствует команда «Graceful Algorithms»! 

В качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Вас приветствует команда «Graceful Algorithms»! 

В качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Вас приветствует команда «Graceful Algorithms»! 

В качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Вас приветствует команда «Graceful Algorithms»! 

В качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/450854/63e2cf7056c8fc33447464444dfafa70/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/450854/63e2cf7056c8fc33447464444dfafa70/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/450854/63e2cf7056c8fc33447464444dfafa70/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/450854/63e2cf7056c8fc33447464444dfafa70/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/450854/63e2cf7056c8fc33447464444dfafa70/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="450854" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-07T10:53:06.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/450854/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/450854/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/450854/63e2cf7056c8fc33447464444dfafa70/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/450854/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/Samuel13/" title="Samuel13" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/Samuel13/" class="tm-user-info__username">
      Samuel13
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-07T10:53:06.000Z" title="2019-05-07, 13:53">7  мая  2019 в 13:53</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Опыт разработки ассета Unity для поиска пути в 3D пространстве</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/unity/" class="tm-article-snippet__hubs-item-link"><span>Unity</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/startuprise/" class="tm-article-snippet__hubs-item-link"><span>Развитие стартапа</span> <!----></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Из песочницы
      </span></div></div> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Вас приветствует команда «Graceful Algorithms»! <br/>
<br/>
В качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные результаты проводимых нами экспериментов. Это наша дебютная статья по проекту «Pathfinder 3D» — ассету для игрового движка Unity, который позволяет производить поиск пути в трёхмерном пространстве. В ней мы расскажем о пути от зарождения идеи до полноценного продукта и о некоторых проблемах, с которыми мы встретились. Данный материал будет полезен для людей, которые хотят начать свой проект и поддерживать его в дальнейшем, а также для желающих реализовать поиск пути в пространстве.<br/>
<a name="habracut"></a><br/>
Работу над ассетом начала команда из двух человек. У первого имелись наработки, позволяющие ускорить процесс поиска кратчайшего пути на сложных графах в достаточной мере для работы в реальном времени, и желание найти им практическое применение, второй имел некоторый опыт работы с Unity и искал идею для стартапа. Так как они нередко общались друг с другом, неудивительно, что в определённый момент возникла идея о возможности создания ассета для поиска пути в трёхмерном пространстве. <br/>
<br/>
При изучении каталога ассетов Unity было найдено множество решений для поиска пути на двумерном пространстве, но ни одного на трёхмерном. Стало очевидно, что это отличная возможность выхода на рынок программных надстроек для Unity, особенно учитывая наглядность и зрелищность ожидаемого результата.<br/>
<br/>
<div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/sl/g0/mm/slg0mmebuga20hyrv4hiic-j2ho.jpeg" data-src="https://habrastorage.org/webt/sl/g0/mm/slg0mmebuga20hyrv4hiic-j2ho.jpeg" data-blurred="true"/></div><br/>
Целью было поставлено реализовать непосредственно поиск пути в трёхмерном пространстве и типовые возможности существующих решений поиска пути в двумерном пространстве. Мы приступили к работе: один разрабатывал непосредственно механизм поиска пути, второй классы и методы для управления процессом поиска пути, интерфейсы для настройки, тестовые сцены, документацию, сайт проекта, а также занимался регистрацией и настройкой аккаунтов сервисов, необходимых для продажи ассета.<br/>
<br/>
Вскоре после начала работы стало ясно, что необходим какой-то общий для команды ресурс для ведения заметок: списка задач и проблем, которые необходимо решить, информации о принятых решениях, интересных в перспективе идей и результатов исследований. Проанализировав существующие решения, мы остановились на <a href="https://trello.com">Trello</a>, из-за его функциональности, простоты, удобства и приятного внешнего вида. Как показала практика, данный сервис очень удобен для небольших команд. Если в команде больше 5 человек, мы бы посоветовали использовать полноценную систему управления проектами.<br/>
<br/>
Далее опишем решения, принятые при разработке первой версии ассета, и логику, которой мы следовали при их принятии. Люди, которые имеют опыт работы с Unity и знакомы с алгоритмами поиска пути, сразу поймут, где в будущем возникнут проблемы. В этих местах мы воспользовались простым решением в угоду сокращению сроков разработки до получения первой рабочей версии ассета, чтобы не увязнуть, ведь энтузиазм штука ограниченная и непостоянная. Таким образом мы справились с одной из самых распространённых причин закрытия подобных стартапов, из-за которой многие проекты умирают так и не родившись. Все проблемные места исправлялись уже после публикации ассета.<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/jk/ri/sp/jkrisph5ng_tz1slmdzfttxdoie.gif"/></div><br/>
Для поиска пути был выбран алгоритм <a href="https://www.redblobgames.com/pathfinding/a-star/introduction.html">A* (A star)</a> из-за его высокой скорости работы на больших открытых пространствах. Большинство алгоритмов поиска пути работают на графах, представленных дискретной матрицей. Можно было бы строить данную матрицу заранее, но единоразовый процесс её построения по трехмерному пространству с препятствиями выглядел на тот момент как довольно сложная задача. К тому же было не ясно, как можно сделать это без ущерба производительности, так как на момент начала работы над ассетом опыта работы с фоновыми процессами и многопоточностью в Unity, как и с многопоточностью в целом, не было. Граф формировался в реальном времени, путем прощупывания пространства физическими лучами (Physics.BoxCast) в направлении поиска. Найденные траектории приводились к ломанным, имеющим меньшее количество промежуточных точек, а затем сглаживались сплайнами.<br/>
<br/>
Основная сложность заключалась в невозможности асинхронного использования физических методов движка, так как они могут работать исключительно в основном потоке. На не слишком сложных сценах использование функции поиска одновременно не более чем двадцатью агентами не сильно влияло на частоту кадров. Чтобы избавиться от редких сильных просадок FPS, вычислительная нагрузка была разнесена во времени с помощью сопрограмм (corutines). Это замедлило поиск, но незначительно.<br/>
<br/>
Перед подачей ассета на модерацию необходимо привести код в порядок и составить подробную документацию, в соответствии с <a href="https://unity3d.com/ru/asset-store/sell-assets/submission-guidelines">требованиями</a>, зарегистрировать и настроить почту поддержки. Желательно также создать сайт проекта, где будут в удобной форме отображаться новости разработки и демонстрационные примеры. Это будет большим плюсом как при прохождении модерации, так и при изучении вашего ассета пользователем перед покупкой. Услуги хостинга и почтового сервиса были заказаны нами у компании <a href="https://beget.com">BeGet</a>, так как она на тот момент предлагала наиболее выгодные предложения, и обходятся нам в 1000р/год.<br/>
<br/>
<a href="https://habrastorage.org/webt/7u/h4/7q/7uh47qdtjz_vkhribjsh19_xcc8.png"><div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/7u/h4/7q/7uh47qdtjz_vkhribjsh19_xcc8.png"/></div></a><br/>
Модерация ассета длилась 22 дня и прошла с первого раза, так как мы очень тщательно подошли к составлению документации и оформлению страницы ассета в магазине Unity. После публикации ассет сразу попал на первые места в категории Scripting/AI. С этого момента на почту поддержки стали приходить письма с просьбами помочь в решении тех или иных проблем. Иногда несколько за день, иногда ни одного за месяц. Если усреднить, то за месяц с вопросами обращались 2 человека, переписка с которым занимала суммарно 2-3 часа. Не так уж много, но следует учитывать, что вне зависимости от вашей текущей загруженности отвечать нужно очень оперативно, чтобы разгневанные пользователи не писали плохих отзывов о продукте, а, наоборот, восторженные качественной поддержкой, оставляли положительные. Также на почту приходит довольно много вопросов по типу «а будет ли ваш ассет работать, если…». Такие письма тоже не следует игнорировать, ведь это потенциальный покупатель, который может уйти.<br/>
<br/>
<div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/x8/3b/kd/x83bkdcsm3bxsxmeor0yhe8xij0.jpeg" data-src="https://habrastorage.org/webt/x8/3b/kd/x83bkdcsm3bxsxmeor0yhe8xij0.jpeg" data-blurred="true"/></div><br/>
По мере получения жалоб от первых покупателей, стало ясно, что многие пользователи используют ассет на сложных сценах, имеющих конфигурацию лабиринта или иной связной полости. В подобных проектах применяемая нами схема поиска пути, основанная на проверке столкновений, да еще и в главном потоке, была недостаточно эффективна. Поэтому мы приступили к реализации досрочного построения графа, чтобы стало возможным производить поиск пути в побочном потоке без использования физики и обращений к объектам сцены.<br/>
 <br/>
Дискретизация трехмерного пространства разбивает его на кубы. Хранение информации о всех кубах разбиения избыточно и является очень затратным по памяти. Поэтому логично хранить только координаты непроходимых клеток, что и было сделано.<br/>
<br/>
<div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/2k/kl/5p/2kkl5pn7lgswpe_7bwixkioulpw.jpeg" data-src="https://habrastorage.org/webt/2k/kl/5p/2kkl5pn7lgswpe_7bwixkioulpw.jpeg" data-blurred="true"/></div><br/>
Игровые препятствия являются полигональными фигурами и состоят из треугольников. Для учета препятствий в графе поиска необходимо найти все кубы разбиения, пересекающие какой-либо треугольник какого-либо препятствия. Уже на этом этапе была заложена возможность динамического удаления и добавления препятствий на сцене, и сохранялись не только координаты занятых кубов, но и идентификаторы препятствий, которые находились в них. Теперь появилась возможность строить навигационный граф до начала игрового процесса и, за счет устранения большого количества сложных расчетов во время поиска пути, более двухсот агентов могли совершать его одновременно без ущерба производительности. <br/>
<br/>
<div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/6o/yn/bd/6oynbdbckmzfhtzu289blvzhqcu.jpeg" data-src="https://habrastorage.org/webt/6o/yn/bd/6oynbdbckmzfhtzu289blvzhqcu.jpeg" data-blurred="true"/></div><br/>
Также дала о себе знать другая известная нам проблема: алгоритм A* и его модификации крайне плохо работают в замкнутых пространствах на графах большой мощности. Поскольку их алгоритм отдает предпочтение направлению маршрута в сторону сближения с целевой точкой, любой тупик, ведущий в сторону цели, сильно замедлял поиск пути, так как, прежде чем выбрать другое направление «прорастания», алгоритм сначала «заполняет» все пространство внутри тупика.<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/ff/ph/is/ffphis2un_0wdpsehrnwra1fiha.gif"/></div><br/>
В таких ситуациях очень эффективным показывает себя <a href="https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%9B%D0%B8">волновой алгоритм поиска (Алгоритм Ли)</a> за счёт <a href="https://www.youtube.com/watch?v=8Jgn_mB6Yb8">меньшего количества операций</a>, требуемых для «заполнения» пространства. Поэтому он был добавлен в состав ассета как альтернативный. При тестировании на сцене, являющейся лабиринтом, время поиска пути сократилось более чем в 30 раз.<br/>
<br/>
<div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/eq/lt/nd/eqltndonsivsvukp1t6lhn_awmo.jpeg" data-src="https://habrastorage.org/webt/eq/lt/nd/eqltndonsivsvukp1t6lhn_awmo.jpeg" data-blurred="true"/></div><br/>
Для ускорения предварительной обработки сцены и поиска пути в ассет была добавлена возможность параллельного выполнения процессов, но эффективность параллелизма была крайне низкой, из-за того, что при работе с контейнером, хранящим координаты занятых клеток, необходимо производить синхронизацию потоков, которая была выполнена с помощью мьютексов, так как конкурентные коллекции и многие другие средства для обеспечения эффективной синхронизации <a href="https://devblogs.microsoft.com/pfxteam/whats-new-for-parallelism-in-net-4-5/">были реализованы</a> только в стандарте .NET Framework 4.5, а в Unity до 2018 выпуска использовалась версия .NET Framework 3.5. Мы пытались решить данную проблему с помощью доступных средств, но они обладали очень посредственным быстродействием, и желаемый результат мы получили только после перехода на 2018 выпуск Unity. Использование конкурентных коллекций также открыло возможность реализации динамического изменения препятствий на сцене.<br/>
<br/>
На определённом этапе в команде начали возникать разногласия по поводу распределения прибыли, и к команде присоединился третий человек, который ввёл систему оценки временных вложений каждого члена команды, а также стал заниматься инспекцией кода и тестированием, что заметно повысило качество продукта.<br/>
<br/>
Система оценки временных затрат на данный момент выполнена в виде Excel таблицы и представляет из себя автоматизированную систему, в которую раз в месяц необходимо вводить информацию о продажах и выполненных за прошедший месяц задачах. Участникам команды необходимо оценить сколько времени им потребовалось бы на решение той или иной задачи. Таким образом при оценке временной сложности задач учитывается скорость работы каждого участника. Аномальное завышение или занижение оценки кем-либо из участников сразу же становится видно по накопленной статистике его предыдущих оценок. И, при отсутствии удовлетворительного пояснения, данный вопрос решается всем коллективом. Этот подход хорошо себя показал за полгода использования и позволил собирать интересную статистику. Готового бесплатного решения, которое бы предоставляло описанные возможности, нами найдено не было. Поэтому на данный момент для маленьких команд реализация в виде Excel таблиц видится нам оптимальной. Для относительно больших команд скорее всего придётся спроектировать свои базу данных, разработать серверную часть и клиент, либо реализовать расширение для одной из существующих систем управления проектами.<br/>
<br/>
<strong>Подведём итоги.</strong> С момента начала разработки до первой версии с минимально необходимым функционалом и достаточной производительностью для использования в реальных проектах прошёл год. Ещё полгода ушло на повышение быстродействия и реализацию многопоточной работы ассета. На данный момент временные затраты на этот проект были оценены нами в 1065 человекочасов (это достаточно оптимистичная оценка), а средняя прибыль за месяц составляет 9,5тр. Несложно посчитать, что средняя стоимость часа работы на данный момент составляет примерно 160р, что не так много. Однако, главное в этом мероприятии полученный каждым участником опыт. В том числе опыт работы в команде и опыт поддержки программного продукта. Проект можно считать успешным.<br/>
<br/>
Теперь наша команда приступила к реализации дополнительного полезного функционала: алгоритмическая проверка достижимости; возможность назначать игровые объекты порталами; поддержка динамических препятствий; локальная навигация между агентами, для предупреждения столкновений и планирования локальных маршрутов.<br/>
<br/>
Надеемся, данный материал поможет кому-нибудь довести свой проект до финишной прямой.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bunity3d%5D" class="tm-tags-list__link">unity3d</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Basset%20store%5D" class="tm-tags-list__link">asset store</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpathfinding%5D" class="tm-tags-list__link">pathfinding</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B3d%5D" class="tm-tags-list__link">3d</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bunity%5D" class="tm-tags-list__link">unity</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%5D" class="tm-tags-list__link">разработка</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BE%D0%B9%5D" class="tm-tags-list__link">управление командой</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%81%D1%82%D0%B0%D1%80%D1%82%D0%B0%D0%BF%5D" class="tm-tags-list__link">стартап</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BE%D0%BF%D1%8B%D1%82%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8%5D" class="tm-tags-list__link">опыт разработки</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/unity/" class="tm-hubs-list__link">
    Unity
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/startuprise/" class="tm-hubs-list__link">
    Развитие стартапа
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 21: ↑20 и ↓1</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 21: ↑20 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+19</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    46
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/Samuel13/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 8 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    6
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/Samuel13/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @Samuel13
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/450854/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 4 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/450854/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/450854/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"450854":{"id":"450854","timePublished":"2019-05-07T10:53:06+00:00","isCorporative":false,"lang":"ru","titleHtml":"Опыт разработки ассета Unity для поиска пути в 3D пространстве","leadData":{"textHtml":"Вас приветствует команда «Graceful Algorithms»! \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные результаты проводимых нами экспериментов. Это наша дебютная статья по проекту «Pathfinder 3D» — ассету для игрового движка Unity, который позволяет производить поиск пути в трёхмерном пространстве. В ней мы расскажем о пути от зарождения идеи до полноценного продукта и о некоторых проблемах, с которыми мы встретились. Данный материал будет полезен для людей, которые хотят начать свой проект и поддерживать его в дальнейшем, а также для желающих реализовать поиск пути в пространстве.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"scoreStats":{"score":6,"votesCount":8},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2045105","alias":"Samuel13","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":4,"favoritesCount":46,"readingCount":3873,"score":19,"votesCount":21},"hubs":[{"relatedData":null,"id":"17831","alias":"unity","type":"collective","title":"Unity","titleHtml":"Unity","isProfiled":true},{"relatedData":null,"id":"20722","alias":"startuprise","type":"collective","title":"Развитие стартапа","titleHtml":"Развитие стартапа","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EВас приветствует команда «Graceful Algorithms»! \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные результаты проводимых нами экспериментов. Это наша дебютная статья по проекту «Pathfinder 3D» — ассету для игрового движка Unity, который позволяет производить поиск пути в трёхмерном пространстве. В ней мы расскажем о пути от зарождения идеи до полноценного продукта и о некоторых проблемах, с которыми мы встретились. Данный материал будет полезен для людей, которые хотят начать свой проект и поддерживать его в дальнейшем, а также для желающих реализовать поиск пути в пространстве.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nРаботу над ассетом начала команда из двух человек. У первого имелись наработки, позволяющие ускорить процесс поиска кратчайшего пути на сложных графах в достаточной мере для работы в реальном времени, и желание найти им практическое применение, второй имел некоторый опыт работы с Unity и искал идею для стартапа. Так как они нередко общались друг с другом, неудивительно, что в определённый момент возникла идея о возможности создания ассета для поиска пути в трёхмерном пространстве. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри изучении каталога ассетов Unity было найдено множество решений для поиска пути на двумерном пространстве, но ни одного на трёхмерном. Стало очевидно, что это отличная возможность выхода на рынок программных надстроек для Unity, особенно учитывая наглядность и зрелищность ожидаемого результата.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fsl\u002Fg0\u002Fmm\u002Fslg0mmebuga20hyrv4hiic-j2ho.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fsl\u002Fg0\u002Fmm\u002Fslg0mmebuga20hyrv4hiic-j2ho.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nЦелью было поставлено реализовать непосредственно поиск пути в трёхмерном пространстве и типовые возможности существующих решений поиска пути в двумерном пространстве. Мы приступили к работе: один разрабатывал непосредственно механизм поиска пути, второй классы и методы для управления процессом поиска пути, интерфейсы для настройки, тестовые сцены, документацию, сайт проекта, а также занимался регистрацией и настройкой аккаунтов сервисов, необходимых для продажи ассета.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВскоре после начала работы стало ясно, что необходим какой-то общий для команды ресурс для ведения заметок: списка задач и проблем, которые необходимо решить, информации о принятых решениях, интересных в перспективе идей и результатов исследований. Проанализировав существующие решения, мы остановились на \u003Ca href=\"https:\u002F\u002Ftrello.com\"\u003ETrello\u003C\u002Fa\u003E, из-за его функциональности, простоты, удобства и приятного внешнего вида. Как показала практика, данный сервис очень удобен для небольших команд. Если в команде больше 5 человек, мы бы посоветовали использовать полноценную систему управления проектами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДалее опишем решения, принятые при разработке первой версии ассета, и логику, которой мы следовали при их принятии. Люди, которые имеют опыт работы с Unity и знакомы с алгоритмами поиска пути, сразу поймут, где в будущем возникнут проблемы. В этих местах мы воспользовались простым решением в угоду сокращению сроков разработки до получения первой рабочей версии ассета, чтобы не увязнуть, ведь энтузиазм штука ограниченная и непостоянная. Таким образом мы справились с одной из самых распространённых причин закрытия подобных стартапов, из-за которой многие проекты умирают так и не родившись. Все проблемные места исправлялись уже после публикации ассета.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fjk\u002Fri\u002Fsp\u002Fjkrisph5ng_tz1slmdzfttxdoie.gif\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nДля поиска пути был выбран алгоритм \u003Ca href=\"https:\u002F\u002Fwww.redblobgames.com\u002Fpathfinding\u002Fa-star\u002Fintroduction.html\"\u003EA* (A star)\u003C\u002Fa\u003E из-за его высокой скорости работы на больших открытых пространствах. Большинство алгоритмов поиска пути работают на графах, представленных дискретной матрицей. Можно было бы строить данную матрицу заранее, но единоразовый процесс её построения по трехмерному пространству с препятствиями выглядел на тот момент как довольно сложная задача. К тому же было не ясно, как можно сделать это без ущерба производительности, так как на момент начала работы над ассетом опыта работы с фоновыми процессами и многопоточностью в Unity, как и с многопоточностью в целом, не было. Граф формировался в реальном времени, путем прощупывания пространства физическими лучами (Physics.BoxCast) в направлении поиска. Найденные траектории приводились к ломанным, имеющим меньшее количество промежуточных точек, а затем сглаживались сплайнами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОсновная сложность заключалась в невозможности асинхронного использования физических методов движка, так как они могут работать исключительно в основном потоке. На не слишком сложных сценах использование функции поиска одновременно не более чем двадцатью агентами не сильно влияло на частоту кадров. Чтобы избавиться от редких сильных просадок FPS, вычислительная нагрузка была разнесена во времени с помощью сопрограмм (corutines). Это замедлило поиск, но незначительно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПеред подачей ассета на модерацию необходимо привести код в порядок и составить подробную документацию, в соответствии с \u003Ca href=\"https:\u002F\u002Funity3d.com\u002Fru\u002Fasset-store\u002Fsell-assets\u002Fsubmission-guidelines\"\u003Eтребованиями\u003C\u002Fa\u003E, зарегистрировать и настроить почту поддержки. Желательно также создать сайт проекта, где будут в удобной форме отображаться новости разработки и демонстрационные примеры. Это будет большим плюсом как при прохождении модерации, так и при изучении вашего ассета пользователем перед покупкой. Услуги хостинга и почтового сервиса были заказаны нами у компании \u003Ca href=\"https:\u002F\u002Fbeget.com\"\u003EBeGet\u003C\u002Fa\u003E, так как она на тот момент предлагала наиболее выгодные предложения, и обходятся нам в 1000р\u002Fгод.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F7u\u002Fh4\u002F7q\u002F7uh47qdtjz_vkhribjsh19_xcc8.png\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F7u\u002Fh4\u002F7q\u002F7uh47qdtjz_vkhribjsh19_xcc8.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nМодерация ассета длилась 22 дня и прошла с первого раза, так как мы очень тщательно подошли к составлению документации и оформлению страницы ассета в магазине Unity. После публикации ассет сразу попал на первые места в категории Scripting\u002FAI. С этого момента на почту поддержки стали приходить письма с просьбами помочь в решении тех или иных проблем. Иногда несколько за день, иногда ни одного за месяц. Если усреднить, то за месяц с вопросами обращались 2 человека, переписка с которым занимала суммарно 2-3 часа. Не так уж много, но следует учитывать, что вне зависимости от вашей текущей загруженности отвечать нужно очень оперативно, чтобы разгневанные пользователи не писали плохих отзывов о продукте, а, наоборот, восторженные качественной поддержкой, оставляли положительные. Также на почту приходит довольно много вопросов по типу «а будет ли ваш ассет работать, если…». Такие письма тоже не следует игнорировать, ведь это потенциальный покупатель, который может уйти.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fx8\u002F3b\u002Fkd\u002Fx83bkdcsm3bxsxmeor0yhe8xij0.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fx8\u002F3b\u002Fkd\u002Fx83bkdcsm3bxsxmeor0yhe8xij0.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nПо мере получения жалоб от первых покупателей, стало ясно, что многие пользователи используют ассет на сложных сценах, имеющих конфигурацию лабиринта или иной связной полости. В подобных проектах применяемая нами схема поиска пути, основанная на проверке столкновений, да еще и в главном потоке, была недостаточно эффективна. Поэтому мы приступили к реализации досрочного построения графа, чтобы стало возможным производить поиск пути в побочном потоке без использования физики и обращений к объектам сцены.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nДискретизация трехмерного пространства разбивает его на кубы. Хранение информации о всех кубах разбиения избыточно и является очень затратным по памяти. Поэтому логично хранить только координаты непроходимых клеток, что и было сделано.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002F2k\u002Fkl\u002F5p\u002F2kkl5pn7lgswpe_7bwixkioulpw.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F2k\u002Fkl\u002F5p\u002F2kkl5pn7lgswpe_7bwixkioulpw.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nИгровые препятствия являются полигональными фигурами и состоят из треугольников. Для учета препятствий в графе поиска необходимо найти все кубы разбиения, пересекающие какой-либо треугольник какого-либо препятствия. Уже на этом этапе была заложена возможность динамического удаления и добавления препятствий на сцене, и сохранялись не только координаты занятых кубов, но и идентификаторы препятствий, которые находились в них. Теперь появилась возможность строить навигационный граф до начала игрового процесса и, за счет устранения большого количества сложных расчетов во время поиска пути, более двухсот агентов могли совершать его одновременно без ущерба производительности. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002F6o\u002Fyn\u002Fbd\u002F6oynbdbckmzfhtzu289blvzhqcu.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F6o\u002Fyn\u002Fbd\u002F6oynbdbckmzfhtzu289blvzhqcu.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nТакже дала о себе знать другая известная нам проблема: алгоритм A* и его модификации крайне плохо работают в замкнутых пространствах на графах большой мощности. Поскольку их алгоритм отдает предпочтение направлению маршрута в сторону сближения с целевой точкой, любой тупик, ведущий в сторону цели, сильно замедлял поиск пути, так как, прежде чем выбрать другое направление «прорастания», алгоритм сначала «заполняет» все пространство внутри тупика.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fff\u002Fph\u002Fis\u002Fffphis2un_0wdpsehrnwra1fiha.gif\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nВ таких ситуациях очень эффективным показывает себя \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%9B%D0%B8\"\u003Eволновой алгоритм поиска (Алгоритм Ли)\u003C\u002Fa\u003E за счёт \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=8Jgn_mB6Yb8\"\u003Eменьшего количества операций\u003C\u002Fa\u003E, требуемых для «заполнения» пространства. Поэтому он был добавлен в состав ассета как альтернативный. При тестировании на сцене, являющейся лабиринтом, время поиска пути сократилось более чем в 30 раз.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Feq\u002Flt\u002Fnd\u002Feqltndonsivsvukp1t6lhn_awmo.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Feq\u002Flt\u002Fnd\u002Feqltndonsivsvukp1t6lhn_awmo.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nДля ускорения предварительной обработки сцены и поиска пути в ассет была добавлена возможность параллельного выполнения процессов, но эффективность параллелизма была крайне низкой, из-за того, что при работе с контейнером, хранящим координаты занятых клеток, необходимо производить синхронизацию потоков, которая была выполнена с помощью мьютексов, так как конкурентные коллекции и многие другие средства для обеспечения эффективной синхронизации \u003Ca href=\"https:\u002F\u002Fdevblogs.microsoft.com\u002Fpfxteam\u002Fwhats-new-for-parallelism-in-net-4-5\u002F\"\u003Eбыли реализованы\u003C\u002Fa\u003E только в стандарте .NET Framework 4.5, а в Unity до 2018 выпуска использовалась версия .NET Framework 3.5. Мы пытались решить данную проблему с помощью доступных средств, но они обладали очень посредственным быстродействием, и желаемый результат мы получили только после перехода на 2018 выпуск Unity. Использование конкурентных коллекций также открыло возможность реализации динамического изменения препятствий на сцене.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа определённом этапе в команде начали возникать разногласия по поводу распределения прибыли, и к команде присоединился третий человек, который ввёл систему оценки временных вложений каждого члена команды, а также стал заниматься инспекцией кода и тестированием, что заметно повысило качество продукта.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСистема оценки временных затрат на данный момент выполнена в виде Excel таблицы и представляет из себя автоматизированную систему, в которую раз в месяц необходимо вводить информацию о продажах и выполненных за прошедший месяц задачах. Участникам команды необходимо оценить сколько времени им потребовалось бы на решение той или иной задачи. Таким образом при оценке временной сложности задач учитывается скорость работы каждого участника. Аномальное завышение или занижение оценки кем-либо из участников сразу же становится видно по накопленной статистике его предыдущих оценок. И, при отсутствии удовлетворительного пояснения, данный вопрос решается всем коллективом. Этот подход хорошо себя показал за полгода использования и позволил собирать интересную статистику. Готового бесплатного решения, которое бы предоставляло описанные возможности, нами найдено не было. Поэтому на данный момент для маленьких команд реализация в виде Excel таблиц видится нам оптимальной. Для относительно больших команд скорее всего придётся спроектировать свои базу данных, разработать серверную часть и клиент, либо реализовать расширение для одной из существующих систем управления проектами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003EПодведём итоги.\u003C\u002Fstrong\u003E С момента начала разработки до первой версии с минимально необходимым функционалом и достаточной производительностью для использования в реальных проектах прошёл год. Ещё полгода ушло на повышение быстродействия и реализацию многопоточной работы ассета. На данный момент временные затраты на этот проект были оценены нами в 1065 человекочасов (это достаточно оптимистичная оценка), а средняя прибыль за месяц составляет 9,5тр. Несложно посчитать, что средняя стоимость часа работы на данный момент составляет примерно 160р, что не так много. Однако, главное в этом мероприятии полученный каждым участником опыт. В том числе опыт работы в команде и опыт поддержки программного продукта. Проект можно считать успешным.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь наша команда приступила к реализации дополнительного полезного функционала: алгоритмическая проверка достижимости; возможность назначать игровые объекты порталами; поддержка динамических препятствий; локальная навигация между агентами, для предупреждения столкновений и планирования локальных маршрутов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНадеемся, данный материал поможет кому-нибудь довести свой проект до финишной прямой.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"unity3d"},{"titleHtml":"asset store"},{"titleHtml":"pathfinding"},{"titleHtml":"3d"},{"titleHtml":"unity"},{"titleHtml":"разработка"},{"titleHtml":"управление командой"},{"titleHtml":"стартап"},{"titleHtml":"опыт разработки"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450854\u002F63e2cf7056c8fc33447464444dfafa70\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F450854\u002F63e2cf7056c8fc33447464444dfafa70\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F450854\\\u002F\"},\"headline\":\"Опыт разработки ассета Unity для поиска пути в 3D пространстве\",\"datePublished\":\"2019-05-07T13:53:06+03:00\",\"dateModified\":\"2019-05-08T09:16:22+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Samuel13\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Вас приветствует команда &laquo;Graceful Algorithms&raquo;!   В качестве эксперимента нами было принято решение вести &laquo;дневники&raquo; разработчиков, в которых мы будем делиться о...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F450854\\\u002F#post-content-body\",\"about\":[\"h_unity\",\"h_startuprise\",\"f_develop\",\"f_management\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fsl\\\u002Fg0\\\u002Fmm\\\u002Fslg0mmebuga20hyrv4hiic-j2ho.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fjk\\\u002Fri\\\u002Fsp\\\u002Fjkrisph5ng_tz1slmdzfttxdoie.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F7u\\\u002Fh4\\\u002F7q\\\u002F7uh47qdtjz_vkhribjsh19_xcc8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fx8\\\u002F3b\\\u002Fkd\\\u002Fx83bkdcsm3bxsxmeor0yhe8xij0.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F2k\\\u002Fkl\\\u002F5p\\\u002F2kkl5pn7lgswpe_7bwixkioulpw.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F6o\\\u002Fyn\\\u002Fbd\\\u002F6oynbdbckmzfhtzu289blvzhqcu.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fff\\\u002Fph\\\u002Fis\\\u002Fffphis2un_0wdpsehrnwra1fiha.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Feq\\\u002Flt\\\u002Fnd\\\u002Feqltndonsivsvukp1t6lhn_awmo.jpeg\"]}","metaDescription":"Вас приветствует команда «Graceful Algorithms»! \r\n\r\nВ качестве эксперимента нами было принято решение вести «дневники» разработчиков, в которых мы будем делиться опытом и освещать некоторые интересные...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"unity,startuprise"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
